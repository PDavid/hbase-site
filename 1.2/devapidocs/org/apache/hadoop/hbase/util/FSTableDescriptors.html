<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>FSTableDescriptors (Apache HBase 1.2.12 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FSTableDescriptors (Apache HBase 1.2.12 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FSTableDescriptors.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptorMigrationToSubdir.html" title="class in org.apache.hadoop.hbase.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html" title="class in org.apache.hadoop.hbase.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/util/FSTableDescriptors.html" target="_top">Frames</a></li>
<li><a href="FSTableDescriptors.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hbase.util</div>
<h2 title="Class FSTableDescriptors" class="title">Class FSTableDescriptors</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hbase.util.FSTableDescriptors</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html" title="interface in org.apache.hadoop.hbase">TableDescriptors</a></dd>
</dl>
<hr>
<br>
<pre><a href="../../../../../org/apache/hadoop/hbase/classification/InterfaceAudience.Private.html" title="annotation in org.apache.hadoop.hbase.classification">@InterfaceAudience.Private</a>
public class <span class="strong">FSTableDescriptors</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html" title="interface in org.apache.hadoop.hbase">TableDescriptors</a></pre>
<div class="block">Implementation of <a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html" title="interface in org.apache.hadoop.hbase"><code>TableDescriptors</code></a> that reads descriptors from the
 passed filesystem.  It expects descriptors to be in a file in the
 <a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#TABLEINFO_DIR"><code>TABLEINFO_DIR</code></a> subdir of the table's directory in FS.  Can be read-only
  -- i.e. does not modify the filesystem or can be read and write.

 <p>Also has utility for keeping up the table descriptors tableinfo file.
 The table schema file is kept in the <a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#TABLEINFO_DIR"><code>TABLEINFO_DIR</code></a> subdir
 of the table directory in the filesystem.
 It has a <a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#TABLEINFO_FILE_PREFIX"><code>TABLEINFO_FILE_PREFIX</code></a> and then a suffix that is the
 edit sequenceid: e.g. <code>.tableinfo.0000000003</code>.  This sequenceid
 is always increasing.  It starts at zero.  The table schema file with the
 highest sequenceid has the most recent schema edit. Usually there is one file
 only, the most recent but there may be short periods where there are more
 than one file. Old files are eventually cleaned.  Presumption is that there
 will not be lots of concurrent clients making table schema edits.  If so,
 the below needs a bit of a reworking and perhaps some supporting api in hdfs.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>,<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#cache">cache</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#cachehits">cachehits</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.apache.hadoop.fs.FileSystem</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#fs">fs</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#fsreadonly">fsreadonly</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#fsvisited">fsvisited</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#invocations">invocations</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static org.apache.commons.logging.Log</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#LOG">LOG</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#metaTableDescriptor">metaTableDescriptor</a></strong></code>
<div class="block">Table descriptor for <code>hbase:meta</code> catalog table</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#rootdir">rootdir</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#TABLEINFO_DIR">TABLEINFO_DIR</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#TABLEINFO_FILE_PREFIX">TABLEINFO_FILE_PREFIX</a></strong></code>
<div class="block">The file name prefix used to store HTD in HDFS</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html?is-external=true" title="class or interface in java.util.regex">Pattern</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#TABLEINFO_FILE_REGEX">TABLEINFO_FILE_REGEX</a></strong></code>
<div class="block">Regex to eat up sequenceid suffix on a .tableinfo file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;org.apache.hadoop.fs.FileStatus&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#TABLEINFO_FILESTATUS_COMPARATOR">TABLEINFO_FILESTATUS_COMPARATOR</a></strong></code>
<div class="block">Compare <code>FileStatus</code> instances by <code>Path.getName()</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static org.apache.hadoop.fs.PathFilter</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#TABLEINFO_PATHFILTER">TABLEINFO_PATHFILTER</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#TMP_DIR">TMP_DIR</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#usecache">usecache</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#WIDTH_OF_SEQUENCE_ID">WIDTH_OF_SEQUENCE_ID</a></strong></code>
<div class="block">Width of the sequenceid that is a suffix on a tableinfo file.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#FSTableDescriptors(org.apache.hadoop.conf.Configuration)">FSTableDescriptors</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Construct a FSTableDescriptors instance using the hbase root dir of the given
 conf and the filesystem where that root dir lives.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#FSTableDescriptors(org.apache.hadoop.conf.Configuration,%20org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path)">FSTableDescriptors</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                  org.apache.hadoop.fs.FileSystem&nbsp;fs,
                  org.apache.hadoop.fs.Path&nbsp;rootdir)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#FSTableDescriptors(org.apache.hadoop.conf.Configuration,%20org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20boolean,%20boolean)">FSTableDescriptors</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                  org.apache.hadoop.fs.FileSystem&nbsp;fs,
                  org.apache.hadoop.fs.Path&nbsp;rootdir,
                  boolean&nbsp;fsreadonly,
                  boolean&nbsp;usecache)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#add(org.apache.hadoop.hbase.HTableDescriptor)">add</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd)</code>
<div class="block">Adds (or updates) the table descriptor to the FileSystem
 and updates the local cache with it.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#createTableDescriptor(org.apache.hadoop.hbase.HTableDescriptor)">createTableDescriptor</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd)</code>
<div class="block">Create new HTableDescriptor in HDFS.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#createTableDescriptor(org.apache.hadoop.hbase.HTableDescriptor,%20boolean)">createTableDescriptor</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd,
                     boolean&nbsp;forceCreation)</code>
<div class="block">Create new HTableDescriptor in HDFS.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#createTableDescriptorForTableDirectory(org.apache.hadoop.fs.Path,%20org.apache.hadoop.hbase.HTableDescriptor,%20boolean)">createTableDescriptorForTableDirectory</a></strong>(org.apache.hadoop.fs.Path&nbsp;tableDir,
                                      <a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd,
                                      boolean&nbsp;forceCreation)</code>
<div class="block">Create a new HTableDescriptor in HDFS in the specified table directory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#deleteTableDescriptorFiles(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20int)">deleteTableDescriptorFiles</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                          org.apache.hadoop.fs.Path&nbsp;dir,
                          int&nbsp;maxSequenceId)</code>
<div class="block">Deletes files matching the table info file pattern within the given directory
 whose sequenceId is at most the given max sequenceId.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#deleteTableDescriptorIfExists(org.apache.hadoop.hbase.TableName)">deleteTableDescriptorIfExists</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</code>
<div class="block">Deletes all the table descriptor files from the file system.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#formatTableInfoSequenceId(int)">formatTableInfoSequenceId</a></strong>(int&nbsp;number)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#get(org.apache.hadoop.hbase.TableName)">get</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tablename)</code>
<div class="block">Get the current table descriptor for the given table, or null if none exists.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#getAll()">getAll</a></strong>()</code>
<div class="block">Returns a map from table name to table descriptor for all tables.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#getByNamespace(java.lang.String)">getByNamespace</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Get Map of all NamespaceDescriptors for a given namespace.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static org.apache.hadoop.fs.FileStatus</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#getCurrentTableInfoStatus(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20boolean)">getCurrentTableInfoStatus</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                         org.apache.hadoop.fs.Path&nbsp;dir,
                         boolean&nbsp;removeOldFiles)</code>
<div class="block">Find the most current table info file in the given directory

 Looks within the given directory for any table info files
 and takes the 'current' one - meaning the one with the highest sequence number if present
 or no sequence number at all if none exist (for backward compatibility from before there
 were sequence numbers).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#getTableDescriptorFromFs(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path)">getTableDescriptorFromFs</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                        org.apache.hadoop.fs.Path&nbsp;tableDir)</code>
<div class="block">Returns the latest table descriptor for the table located at the given directory
 directly from the file system if it exists.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#getTableDescriptorFromFs(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20boolean)">getTableDescriptorFromFs</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                        org.apache.hadoop.fs.Path&nbsp;tableDir,
                        boolean&nbsp;rewritePb)</code>
<div class="block">Returns the latest table descriptor for the table located at the given directory
 directly from the file system if it exists.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#getTableDescriptorFromFs(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.hbase.TableName)">getTableDescriptorFromFs</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                        org.apache.hadoop.fs.Path&nbsp;hbaseRootDir,
                        <a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</code>
<div class="block">Returns the latest table descriptor for the given table directly from the file system
 if it exists, bypassing the local cache.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#getTableDescriptorFromFs(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.hbase.TableName,%20boolean)">getTableDescriptorFromFs</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                        org.apache.hadoop.fs.Path&nbsp;hbaseRootDir,
                        <a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName,
                        boolean&nbsp;rewritePb)</code>
<div class="block">Returns the latest table descriptor for the table located at the given directory
 directly from the file system if it exists.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#getTableDir(org.apache.hadoop.hbase.TableName)">getTableDir</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</code>
<div class="block">Return the table directory in HDFS</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#getTableInfoFileName(int)">getTableInfoFileName</a></strong>(int&nbsp;sequenceid)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.FileStatus</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#getTableInfoPath(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path)">getTableInfoPath</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                org.apache.hadoop.fs.Path&nbsp;tableDir)</code>
<div class="block">Find the most current table info file for the table located in the given table directory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static org.apache.hadoop.fs.FileStatus</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#getTableInfoPath(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20boolean)">getTableInfoPath</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                org.apache.hadoop.fs.Path&nbsp;tableDir,
                boolean&nbsp;removeOldFiles)</code>
<div class="block">Find the most current table info file for the table in the given table directory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private org.apache.hadoop.fs.FileStatus</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#getTableInfoPath(org.apache.hadoop.fs.Path)">getTableInfoPath</a></strong>(org.apache.hadoop.fs.Path&nbsp;tableDir)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.apache.hadoop.fs.FileStatus</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#getTableInfoPath(org.apache.hadoop.hbase.TableName)">getTableInfoPath</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</code>
<div class="block">Find the most current table info file for the given table in the hbase root directory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#getTableInfoSequenceId(org.apache.hadoop.fs.Path)">getTableInfoSequenceId</a></strong>(org.apache.hadoop.fs.Path&nbsp;p)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#isTableInfoExists(org.apache.hadoop.hbase.TableName)">isTableInfoExists</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</code>
<div class="block">Checks if a current table info file exists for the given table</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#isUsecache()">isUsecache</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#readTableDescriptor(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.FileStatus,%20boolean)">readTableDescriptor</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                   org.apache.hadoop.fs.FileStatus&nbsp;status,
                   boolean&nbsp;rewritePb)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#remove(org.apache.hadoop.hbase.TableName)">remove</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tablename)</code>
<div class="block">Removes the table descriptor from the local cache and returns it.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#rewriteTableDescriptor(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.FileStatus,%20org.apache.hadoop.hbase.HTableDescriptor)">rewriteTableDescriptor</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                      org.apache.hadoop.fs.FileStatus&nbsp;status,
                      <a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;td)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#setCacheOff()">setCacheOff</a></strong>()</code>
<div class="block">Disables the tabledescriptor cache</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#setCacheOn()">setCacheOn</a></strong>()</code>
<div class="block">Enables the tabledescriptor cache</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#updateTableDescriptor(org.apache.hadoop.hbase.HTableDescriptor)">updateTableDescriptor</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd)</code>
<div class="block">Update table descriptor on the file system</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#writeHTD(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.hbase.HTableDescriptor)">writeHTD</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
        org.apache.hadoop.fs.Path&nbsp;p,
        <a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#writeTableDescriptor(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.hbase.HTableDescriptor,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.fs.FileStatus)">writeTableDescriptor</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                    <a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd,
                    org.apache.hadoop.fs.Path&nbsp;tableDir,
                    org.apache.hadoop.fs.FileStatus&nbsp;currentDescriptorFile)</code>
<div class="block">Attempts to write a new table descriptor to the given table's directory.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG</h4>
<pre>private static final&nbsp;org.apache.commons.logging.Log LOG</pre>
</li>
</ul>
<a name="fs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fs</h4>
<pre>private final&nbsp;org.apache.hadoop.fs.FileSystem fs</pre>
</li>
</ul>
<a name="rootdir">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rootdir</h4>
<pre>private final&nbsp;org.apache.hadoop.fs.Path rootdir</pre>
</li>
</ul>
<a name="fsreadonly">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fsreadonly</h4>
<pre>private final&nbsp;boolean fsreadonly</pre>
</li>
</ul>
<a name="usecache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>usecache</h4>
<pre>private volatile&nbsp;boolean usecache</pre>
</li>
</ul>
<a name="fsvisited">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fsvisited</h4>
<pre>private volatile&nbsp;boolean fsvisited</pre>
</li>
</ul>
<a name="cachehits">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cachehits</h4>
<pre>long cachehits</pre>
</li>
</ul>
<a name="invocations">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invocations</h4>
<pre>long invocations</pre>
</li>
</ul>
<a name="TABLEINFO_FILE_PREFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TABLEINFO_FILE_PREFIX</h4>
<pre>static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> TABLEINFO_FILE_PREFIX</pre>
<div class="block">The file name prefix used to store HTD in HDFS</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.util.FSTableDescriptors.TABLEINFO_FILE_PREFIX">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="TABLEINFO_DIR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TABLEINFO_DIR</h4>
<pre>static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> TABLEINFO_DIR</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.util.FSTableDescriptors.TABLEINFO_DIR">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="TMP_DIR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TMP_DIR</h4>
<pre>static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> TMP_DIR</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.util.FSTableDescriptors.TMP_DIR">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="cache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cache</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>,<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&gt; cache</pre>
</li>
</ul>
<a name="metaTableDescriptor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>metaTableDescriptor</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a> metaTableDescriptor</pre>
<div class="block">Table descriptor for <code>hbase:meta</code> catalog table</div>
</li>
</ul>
<a name="TABLEINFO_FILESTATUS_COMPARATOR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TABLEINFO_FILESTATUS_COMPARATOR</h4>
<pre>static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;org.apache.hadoop.fs.FileStatus&gt; TABLEINFO_FILESTATUS_COMPARATOR</pre>
<div class="block">Compare <code>FileStatus</code> instances by <code>Path.getName()</code>. Returns in
 reverse order.</div>
</li>
</ul>
<a name="TABLEINFO_PATHFILTER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TABLEINFO_PATHFILTER</h4>
<pre>private static final&nbsp;org.apache.hadoop.fs.PathFilter TABLEINFO_PATHFILTER</pre>
</li>
</ul>
<a name="WIDTH_OF_SEQUENCE_ID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WIDTH_OF_SEQUENCE_ID</h4>
<pre>static final&nbsp;int WIDTH_OF_SEQUENCE_ID</pre>
<div class="block">Width of the sequenceid that is a suffix on a tableinfo file.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.util.FSTableDescriptors.WIDTH_OF_SEQUENCE_ID">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="TABLEINFO_FILE_REGEX">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TABLEINFO_FILE_REGEX</h4>
<pre>private static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html?is-external=true" title="class or interface in java.util.regex">Pattern</a> TABLEINFO_FILE_REGEX</pre>
<div class="block">Regex to eat up sequenceid suffix on a .tableinfo file.
 Use regex because may encounter oldstyle .tableinfos where there is no
 sequenceid on the end.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FSTableDescriptors(org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FSTableDescriptors</h4>
<pre>public&nbsp;FSTableDescriptors(org.apache.hadoop.conf.Configuration&nbsp;conf)
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Construct a FSTableDescriptors instance using the hbase root dir of the given
 conf and the filesystem where that root dir lives.
 This instance can do write operations (is not read only).</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="FSTableDescriptors(org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FSTableDescriptors</h4>
<pre>public&nbsp;FSTableDescriptors(org.apache.hadoop.conf.Configuration&nbsp;conf,
                  org.apache.hadoop.fs.FileSystem&nbsp;fs,
                  org.apache.hadoop.fs.Path&nbsp;rootdir)
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="FSTableDescriptors(org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, boolean, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FSTableDescriptors</h4>
<pre>public&nbsp;FSTableDescriptors(org.apache.hadoop.conf.Configuration&nbsp;conf,
                  org.apache.hadoop.fs.FileSystem&nbsp;fs,
                  org.apache.hadoop.fs.Path&nbsp;rootdir,
                  boolean&nbsp;fsreadonly,
                  boolean&nbsp;usecache)
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fsreadonly</code> - True if we are read-only when it comes to filesystem
 operations; i.e. on remove, we do not do delete in fs.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setCacheOn()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCacheOn</h4>
<pre>public&nbsp;void&nbsp;setCacheOn()
                throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html#setCacheOn()">TableDescriptors</a></code></strong></div>
<div class="block">Enables the tabledescriptor cache</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html#setCacheOn()">setCacheOn</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html" title="interface in org.apache.hadoop.hbase">TableDescriptors</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="setCacheOff()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCacheOff</h4>
<pre>public&nbsp;void&nbsp;setCacheOff()
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html#setCacheOff()">TableDescriptors</a></code></strong></div>
<div class="block">Disables the tabledescriptor cache</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html#setCacheOff()">setCacheOff</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html" title="interface in org.apache.hadoop.hbase">TableDescriptors</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="isUsecache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUsecache</h4>
<pre>public&nbsp;boolean&nbsp;isUsecache()</pre>
</li>
</ul>
<a name="get(org.apache.hadoop.hbase.TableName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;get(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tablename)
                     throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get the current table descriptor for the given table, or null if none exists.

 Uses a local cache of the descriptor but still checks the filesystem on each call
 to see if a newer file has been created since the cached one was read.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html#get(org.apache.hadoop.hbase.TableName)">get</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html" title="interface in org.apache.hadoop.hbase">TableDescriptors</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>HTableDescriptor for tablename</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getAll()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAll</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&gt;&nbsp;getAll()
                                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns a map from table name to table descriptor for all tables.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html#getAll()">getAll</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html" title="interface in org.apache.hadoop.hbase">TableDescriptors</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>Map of all descriptors.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getByNamespace(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getByNamespace</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&gt;&nbsp;getByNamespace(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)
                                            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html#getByNamespace(java.lang.String)">TableDescriptors</a></code></strong></div>
<div class="block">Get Map of all NamespaceDescriptors for a given namespace.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html#getByNamespace(java.lang.String)">getByNamespace</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html" title="interface in org.apache.hadoop.hbase">TableDescriptors</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>Map of all descriptors.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="add(org.apache.hadoop.hbase.HTableDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd)
         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Adds (or updates) the table descriptor to the FileSystem
 and updates the local cache with it.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html#add(org.apache.hadoop.hbase.HTableDescriptor)">add</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html" title="interface in org.apache.hadoop.hbase">TableDescriptors</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>htd</code> - Descriptor to set into TableDescriptors</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="remove(org.apache.hadoop.hbase.TableName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;remove(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tablename)
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Removes the table descriptor from the local cache and returns it.
 If not in read only mode, it also deletes the entire table directory(!)
 from the FileSystem.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html#remove(org.apache.hadoop.hbase.TableName)">remove</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/TableDescriptors.html" title="interface in org.apache.hadoop.hbase">TableDescriptors</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>Instance of table descriptor or null if none found.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="isTableInfoExists(org.apache.hadoop.hbase.TableName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTableInfoExists</h4>
<pre>public&nbsp;boolean&nbsp;isTableInfoExists(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Checks if a current table info file exists for the given table</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tableName</code> - name of table</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if exists</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getTableInfoPath(org.apache.hadoop.hbase.TableName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableInfoPath</h4>
<pre>private&nbsp;org.apache.hadoop.fs.FileStatus&nbsp;getTableInfoPath(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)
                                                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Find the most current table info file for the given table in the hbase root directory.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The file status of the current table info file or null if it does not exist</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getTableInfoPath(org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableInfoPath</h4>
<pre>private&nbsp;org.apache.hadoop.fs.FileStatus&nbsp;getTableInfoPath(org.apache.hadoop.fs.Path&nbsp;tableDir)
                                                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getTableInfoPath(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableInfoPath</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.FileStatus&nbsp;getTableInfoPath(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                               org.apache.hadoop.fs.Path&nbsp;tableDir)
                                                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Find the most current table info file for the table located in the given table directory.

 Looks within the <a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#TABLEINFO_DIR"><code>TABLEINFO_DIR</code></a> subdirectory of the given directory for any table info
 files and takes the 'current' one - meaning the one with the highest sequence number if present
 or no sequence number at all if none exist (for backward compatibility from before there
 were sequence numbers).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The file status of the current table info file or null if it does not exist</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getTableInfoPath(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableInfoPath</h4>
<pre>private static&nbsp;org.apache.hadoop.fs.FileStatus&nbsp;getTableInfoPath(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                               org.apache.hadoop.fs.Path&nbsp;tableDir,
                                               boolean&nbsp;removeOldFiles)
                                                         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Find the most current table info file for the table in the given table directory.

 Looks within the <a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html#TABLEINFO_DIR"><code>TABLEINFO_DIR</code></a> subdirectory of the given directory for any table info
 files and takes the 'current' one - meaning the one with the highest sequence number if
 present or no sequence number at all if none exist (for backward compatibility from before
 there were sequence numbers).
 If there are multiple table info files found and removeOldFiles is true it also deletes the
 older files.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The file status of the current table info file or null if none exist</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getCurrentTableInfoStatus(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentTableInfoStatus</h4>
<pre>static&nbsp;org.apache.hadoop.fs.FileStatus&nbsp;getCurrentTableInfoStatus(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                        org.apache.hadoop.fs.Path&nbsp;dir,
                                                        boolean&nbsp;removeOldFiles)
                                                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Find the most current table info file in the given directory

 Looks within the given directory for any table info files
 and takes the 'current' one - meaning the one with the highest sequence number if present
 or no sequence number at all if none exist (for backward compatibility from before there
 were sequence numbers).
 If there are multiple possible files found
 and the we're not in read only mode it also deletes the older files.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The file status of the current table info file or null if it does not exist</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getTableDir(org.apache.hadoop.hbase.TableName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableDir</h4>
<pre>org.apache.hadoop.fs.Path&nbsp;getTableDir(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</pre>
<div class="block">Return the table directory in HDFS</div>
</li>
</ul>
<a name="formatTableInfoSequenceId(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>formatTableInfoSequenceId</h4>
<pre>private static&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;formatTableInfoSequenceId(int&nbsp;number)</pre>
</li>
</ul>
<a name="getTableInfoSequenceId(org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableInfoSequenceId</h4>
<pre>static&nbsp;int&nbsp;getTableInfoSequenceId(org.apache.hadoop.fs.Path&nbsp;p)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>p</code> - Path to a <code>.tableinfo</code> file.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The current editid or 0 if none found.</dd></dl>
</li>
</ul>
<a name="getTableInfoFileName(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableInfoFileName</h4>
<pre>static&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getTableInfoFileName(int&nbsp;sequenceid)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>sequenceid</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>Name of tableinfo file.</dd></dl>
</li>
</ul>
<a name="getTableDescriptorFromFs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.TableName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableDescriptorFromFs</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;getTableDescriptorFromFs(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                        org.apache.hadoop.fs.Path&nbsp;hbaseRootDir,
                                        <a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)
                                                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns the latest table descriptor for the given table directly from the file system
 if it exists, bypassing the local cache.
 Returns null if it's not found.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getTableDescriptorFromFs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.TableName, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableDescriptorFromFs</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;getTableDescriptorFromFs(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                        org.apache.hadoop.fs.Path&nbsp;hbaseRootDir,
                                        <a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName,
                                        boolean&nbsp;rewritePb)
                                                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns the latest table descriptor for the table located at the given directory
 directly from the file system if it exists.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/TableInfoMissingException.html" title="class in org.apache.hadoop.hbase">TableInfoMissingException</a></code> - if there is no descriptor</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getTableDescriptorFromFs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableDescriptorFromFs</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;getTableDescriptorFromFs(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                        org.apache.hadoop.fs.Path&nbsp;tableDir)
                                                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns the latest table descriptor for the table located at the given directory
 directly from the file system if it exists.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/TableInfoMissingException.html" title="class in org.apache.hadoop.hbase">TableInfoMissingException</a></code> - if there is no descriptor</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getTableDescriptorFromFs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableDescriptorFromFs</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;getTableDescriptorFromFs(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                        org.apache.hadoop.fs.Path&nbsp;tableDir,
                                        boolean&nbsp;rewritePb)
                                                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns the latest table descriptor for the table located at the given directory
 directly from the file system if it exists.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/TableInfoMissingException.html" title="class in org.apache.hadoop.hbase">TableInfoMissingException</a></code> - if there is no descriptor</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="readTableDescriptor(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.FileStatus, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readTableDescriptor</h4>
<pre>private static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;readTableDescriptor(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                   org.apache.hadoop.fs.FileStatus&nbsp;status,
                                   boolean&nbsp;rewritePb)
                                             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="rewriteTableDescriptor(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.FileStatus, org.apache.hadoop.hbase.HTableDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rewriteTableDescriptor</h4>
<pre>private static&nbsp;void&nbsp;rewriteTableDescriptor(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                          org.apache.hadoop.fs.FileStatus&nbsp;status,
                          <a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;td)
                                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="updateTableDescriptor(org.apache.hadoop.hbase.HTableDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTableDescriptor</h4>
<pre>org.apache.hadoop.fs.Path&nbsp;updateTableDescriptor(<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd)
                                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Update table descriptor on the file system</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - Thrown if failed update.</dd>
<dd><code>org.apache.commons.lang.NotImplementedException</code> - if in read only mode</dd></dl>
</li>
</ul>
<a name="deleteTableDescriptorIfExists(org.apache.hadoop.hbase.TableName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteTableDescriptorIfExists</h4>
<pre>public&nbsp;void&nbsp;deleteTableDescriptorIfExists(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)
                                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Deletes all the table descriptor files from the file system.
 Used in unit tests only.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.commons.lang.NotImplementedException</code> - if in read only mode</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="deleteTableDescriptorFiles(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteTableDescriptorFiles</h4>
<pre>private static&nbsp;void&nbsp;deleteTableDescriptorFiles(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                              org.apache.hadoop.fs.Path&nbsp;dir,
                              int&nbsp;maxSequenceId)
                                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Deletes files matching the table info file pattern within the given directory
 whose sequenceId is at most the given max sequenceId.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="writeTableDescriptor(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.hbase.HTableDescriptor, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.FileStatus)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeTableDescriptor</h4>
<pre>private static&nbsp;org.apache.hadoop.fs.Path&nbsp;writeTableDescriptor(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                             <a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd,
                                             org.apache.hadoop.fs.Path&nbsp;tableDir,
                                             org.apache.hadoop.fs.FileStatus&nbsp;currentDescriptorFile)
                                                       throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Attempts to write a new table descriptor to the given table's directory.
 It first writes it to the .tmp dir then uses an atomic rename to move it into place.
 It begins at the currentSequenceId + 1 and tries 10 times to find a new sequence number
 not already in use.
 Removes the current descriptor file if passed in.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Descriptor file or null if we failed write.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="writeHTD(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.HTableDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeHTD</h4>
<pre>private static&nbsp;void&nbsp;writeHTD(org.apache.hadoop.fs.FileSystem&nbsp;fs,
            org.apache.hadoop.fs.Path&nbsp;p,
            <a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd)
                      throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="createTableDescriptor(org.apache.hadoop.hbase.HTableDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createTableDescriptor</h4>
<pre>public&nbsp;boolean&nbsp;createTableDescriptor(<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd)
                              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Create new HTableDescriptor in HDFS. Happens when we are creating table.
 Used by tests.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if we successfully created file.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="createTableDescriptor(org.apache.hadoop.hbase.HTableDescriptor, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createTableDescriptor</h4>
<pre>public&nbsp;boolean&nbsp;createTableDescriptor(<a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd,
                            boolean&nbsp;forceCreation)
                              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Create new HTableDescriptor in HDFS. Happens when we are creating table. If
 forceCreation is true then even if previous table descriptor is present it
 will be overwritten</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if we successfully created file.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="createTableDescriptorForTableDirectory(org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.HTableDescriptor, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createTableDescriptorForTableDirectory</h4>
<pre>public&nbsp;boolean&nbsp;createTableDescriptorForTableDirectory(org.apache.hadoop.fs.Path&nbsp;tableDir,
                                             <a href="../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd,
                                             boolean&nbsp;forceCreation)
                                               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Create a new HTableDescriptor in HDFS in the specified table directory. Happens when we create
 a new table or snapshot a table.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tableDir</code> - table directory under which we should write the file</dd><dd><code>htd</code> - description of the table to write</dd><dd><code>forceCreation</code> - if <tt>true</tt>,then even if previous table descriptor is present it will
          be overwritten</dd>
<dt><span class="strong">Returns:</span></dt><dd><tt>true</tt> if the we successfully created the file, <tt>false</tt> if the file
         already exists and we weren't forcing the descriptor creation.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if a filesystem error occurs</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FSTableDescriptors.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptorMigrationToSubdir.html" title="class in org.apache.hadoop.hbase.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html" title="class in org.apache.hadoop.hbase.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/util/FSTableDescriptors.html" target="_top">Frames</a></li>
<li><a href="FSTableDescriptors.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2007&#x2013;2019 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
