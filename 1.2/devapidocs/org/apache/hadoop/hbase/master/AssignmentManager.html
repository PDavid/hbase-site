<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>AssignmentManager (Apache HBase 1.2.12 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AssignmentManager (Apache HBase 1.2.12 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AssignmentManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentListener.html" title="interface in org.apache.hadoop.hbase.master"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.RegionRunnable.html" title="interface in org.apache.hadoop.hbase.master"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/master/AssignmentManager.html" target="_top">Frames</a></li>
<li><a href="AssignmentManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hbase.master</div>
<h2 title="Class AssignmentManager" class="title">Class AssignmentManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html" title="class in org.apache.hadoop.hbase.zookeeper">org.apache.hadoop.hbase.zookeeper.ZooKeeperListener</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hbase.master.AssignmentManager</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="../../../../../org/apache/hadoop/hbase/classification/InterfaceAudience.Private.html" title="annotation in org.apache.hadoop.hbase.classification">@InterfaceAudience.Private</a>
public class <span class="strong">AssignmentManager</span>
extends <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperListener</a></pre>
<div class="block">Manages and performs region assignment.
 <p>
 Monitors ZooKeeper for events related to regions in transition.
 <p>
 Handles existing regions in transition during master failover.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.RegionRunnable.html" title="interface in org.apache.hadoop.hbase.master">AssignmentManager.RegionRunnable</a></strong></code>
<div class="block">A specific runnable that works only on a region.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.ServerHostRegion.html" title="enum in org.apache.hadoop.hbase.master">AssignmentManager.ServerHostRegion</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#ALREADY_IN_TRANSITION_WAITTIME">ALREADY_IN_TRANSITION_WAITTIME</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/master/LoadBalancer.html" title="interface in org.apache.hadoop.hbase.master">LoadBalancer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#balancer">balancer</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#bulkAssignThresholdRegions">bulkAssignThresholdRegions</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#bulkAssignThresholdServers">bulkAssignThresholdServers</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#bulkAssignWaitTillAllAssigned">bulkAssignWaitTillAllAssigned</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#bulkPerRegionOpenTimeGuesstimate">bulkPerRegionOpenTimeGuesstimate</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#closedRegionHandlerCalled">closedRegionHandlerCalled</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#DEFAULT_ALREADY_IN_TRANSITION_WAITTIME">DEFAULT_ALREADY_IN_TRANSITION_WAITTIME</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/executor/ExecutorService.html" title="class in org.apache.hadoop.hbase.executor">ExecutorService</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#executorService">executorService</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html?is-external=true" title="class or interface in java.util.concurrent">ConcurrentHashMap</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicInteger.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicInteger</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#failedOpenTracker">failedOpenTracker</a></strong></code>
<div class="block">A map to track the count a region fails to open in a row.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#failoverCleanupDone">failoverCleanupDone</a></strong></code>
<div class="block">Indicator that AssignmentManager has recovered the region states so
 that ServerShutdownHandler can be fully enabled and re-assign regions
 of dead servers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#HBCK_CODE_SERVERNAME">HBCK_CODE_SERVERNAME</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/executor/EventType.html" title="enum in org.apache.hadoop.hbase.executor">EventType</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#ignoreStatesRSOffline">ignoreStatesRSOffline</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/master/AssignmentListener.html" title="interface in org.apache.hadoop.hbase.master">AssignmentListener</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#listeners">listeners</a></strong></code>
<div class="block">Listeners that are called on assignment events.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/util/KeyLocker.html" title="class in org.apache.hadoop.hbase.util">KeyLocker</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#locker">locker</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static org.apache.commons.logging.Log</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#LOG">LOG</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#maximumAttempts">maximumAttempts</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/util/PairOfSameType.html" title="class in org.apache.hadoop.hbase.util">PairOfSameType</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#mergingRegions">mergingRegions</a></strong></code>
<div class="block">Map of two merging regions from the region to be created.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/master/MetricsAssignmentManager.html" title="class in org.apache.hadoop.hbase.master">MetricsAssignmentManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#metricsAssignmentManager">metricsAssignmentManager</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicInteger.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicInteger</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#numRegionsOpened">numRegionsOpened</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#openedRegionHandlerCalled">openedRegionHandlerCalled</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="http://docs.oracle.com/javase/7/docs/api/java/util/NavigableMap.html?is-external=true" title="class or interface in java.util">NavigableMap</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/master/RegionPlan.html" title="class in org.apache.hadoop.hbase.master">RegionPlan</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#regionPlans">regionPlans</a></strong></code>
<div class="block">Plans for region movement.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#regionsInProgress">regionsInProgress</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/RegionStateListener.html" title="interface in org.apache.hadoop.hbase">RegionStateListener</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#regionStateListener">regionStateListener</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html" title="class in org.apache.hadoop.hbase.master">RegionStates</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#regionStates">regionStates</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/master/RegionStateStore.html" title="class in org.apache.hadoop.hbase.master">RegionStateStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#regionStateStore">regionStateStore</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#regionsToReopen">regionsToReopen</a></strong></code>
<div class="block">Map of regions to reopen after the schema of a table is changed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#replicasToClose">replicasToClose</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/hadoop/hbase/master/MasterServices.html" title="interface in org.apache.hadoop.hbase.master">MasterServices</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#server">server</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/master/ServerManager.html" title="class in org.apache.hadoop.hbase.master">ServerManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#serverManager">serverManager</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#shouldAssignRegionsWithFavoredNodes">shouldAssignRegionsWithFavoredNodes</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#sleepTimeBeforeRetryingMetaAssignment">sleepTimeBeforeRetryingMetaAssignment</a></strong></code>
<div class="block">The sleep time for which the assignment will wait before retrying in case of hbase:meta assignment
 failure due to lack of availability of region plan or bad region plan</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="../../../../../org/apache/hadoop/hbase/util/PairOfSameType.html" title="class in org.apache.hadoop.hbase.util">PairOfSameType</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#splitRegions">splitRegions</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/master/TableLockManager.html" title="class in org.apache.hadoop.hbase.master">TableLockManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#tableLockManager">tableLockManager</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/TableStateManager.html" title="interface in org.apache.hadoop.hbase">TableStateManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#tableStateManager">tableStateManager</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#TEST_SKIP_MERGE_HANDLING">TEST_SKIP_MERGE_HANDLING</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#TEST_SKIP_SPLIT_HANDLING">TEST_SKIP_SPLIT_HANDLING</a></strong></code>
<div class="block">For testing only!  Set to true to skip handling of split and merge.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#threadPoolExecutorService">threadPoolExecutorService</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#useZKForAssignment">useZKForAssignment</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#zkEventWorkers">zkEventWorkers</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private com.google.common.collect.LinkedHashMultimap&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.RegionRunnable.html" title="interface in org.apache.hadoop.hbase.master">AssignmentManager.RegionRunnable</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#zkEventWorkerWaitingList">zkEventWorkerWaitingList</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.hadoop.hbase.zookeeper.ZooKeeperListener">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.hadoop.hbase.zookeeper.<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperListener</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html#watcher">watcher</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#AssignmentManager(org.apache.hadoop.hbase.master.MasterServices,%20org.apache.hadoop.hbase.master.ServerManager,%20org.apache.hadoop.hbase.master.LoadBalancer,%20org.apache.hadoop.hbase.executor.ExecutorService,%20org.apache.hadoop.hbase.master.MetricsMaster,%20org.apache.hadoop.hbase.master.TableLockManager)">AssignmentManager</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/master/MasterServices.html" title="interface in org.apache.hadoop.hbase.master">MasterServices</a>&nbsp;server,
                 <a href="../../../../../org/apache/hadoop/hbase/master/ServerManager.html" title="class in org.apache.hadoop.hbase.master">ServerManager</a>&nbsp;serverManager,
                 <a href="../../../../../org/apache/hadoop/hbase/master/LoadBalancer.html" title="interface in org.apache.hadoop.hbase.master">LoadBalancer</a>&nbsp;balancer,
                 <a href="../../../../../org/apache/hadoop/hbase/executor/ExecutorService.html" title="class in org.apache.hadoop.hbase.executor">ExecutorService</a>&nbsp;service,
                 <a href="../../../../../org/apache/hadoop/hbase/master/MetricsMaster.html" title="class in org.apache.hadoop.hbase.master">MetricsMaster</a>&nbsp;metricsMaster,
                 <a href="../../../../../org/apache/hadoop/hbase/master/TableLockManager.html" title="class in org.apache.hadoop.hbase.master">TableLockManager</a>&nbsp;tableLockManager)</code>
<div class="block">Constructs a new assignment manager.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html?is-external=true" title="class or interface in java.util.concurrent.locks">Lock</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#acquireRegionLock(java.lang.String)">acquireRegionLock</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName)</code>
<div class="block">To avoid racing with AM, external entities may need to lock a region,
 for example, when SSH checks what regions to skip re-assigning.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#addPlan(java.lang.String,%20org.apache.hadoop.hbase.master.RegionPlan)">addPlan</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName,
       <a href="../../../../../org/apache/hadoop/hbase/master/RegionPlan.html" title="class in org.apache.hadoop.hbase.master">RegionPlan</a>&nbsp;plan)</code>
<div class="block">Add a regionPlan for the specified region.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#addPlans(java.util.Map)">addPlans</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/master/RegionPlan.html" title="class in org.apache.hadoop.hbase.master">RegionPlan</a>&gt;&nbsp;plans)</code>
<div class="block">Add a map of region plans.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#assign(org.apache.hadoop.hbase.HRegionInfo,%20boolean)">assign</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
      boolean&nbsp;setOfflineInZK)</code>
<div class="block">Assigns the specified region.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#assign(org.apache.hadoop.hbase.HRegionInfo,%20boolean,%20boolean)">assign</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
      boolean&nbsp;setOfflineInZK,
      boolean&nbsp;forceNewPlan)</code>
<div class="block">Use care with forceNewPlan.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#assign(int,%20int,%20java.lang.String,%20java.util.Map)">assign</a></strong>(int&nbsp;regions,
      int&nbsp;totalServers,
      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message,
      <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt;&nbsp;bulkPlan)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#assign(java.util.List)">assign</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regions)</code>
<div class="block">Assigns specified regions round robin, if any.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#assign(java.util.Map)">assign</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;regions)</code>
<div class="block">Assigns specified regions retaining assignments, if any.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#assign(org.apache.hadoop.hbase.master.RegionState,%20boolean,%20boolean)">assign</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;state,
      boolean&nbsp;setOfflineInZK,
      boolean&nbsp;forceNewPlan)</code>
<div class="block">Caller must hold lock on the passed <code>state</code> object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#assign(org.apache.hadoop.hbase.ServerName,%20java.util.List)">assign</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;destination,
      <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regions)</code>
<div class="block">Bulk assign regions to <code>destination</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#assignAllUserRegions(java.util.Map)">assignAllUserRegions</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;allRegions)</code>
<div class="block">Assigns all user regions, if any exist.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#assignMeta(org.apache.hadoop.hbase.HRegionInfo)">assignMeta</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>
<div class="block">Assigns the hbase:meta region or a replica.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#asyncSetOfflineInZooKeeper(org.apache.hadoop.hbase.master.RegionState,%20org.apache.zookeeper.AsyncCallback.StringCallback,%20org.apache.hadoop.hbase.ServerName)">asyncSetOfflineInZooKeeper</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;state,
                          org.apache.zookeeper.AsyncCallback.StringCallback&nbsp;cb,
                          <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;destination)</code>
<div class="block">Set region as OFFLINED up in zookeeper asynchronously.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#balance(org.apache.hadoop.hbase.master.RegionPlan)">balance</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/master/RegionPlan.html" title="class in org.apache.hadoop.hbase.master">RegionPlan</a>&nbsp;plan)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#checkInStateForSplit(org.apache.hadoop.hbase.ServerName,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo)">checkInStateForSplit</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
                    <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;p,
                    <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;a,
                    <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;b)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#cleanOutCrashedServerReferences(org.apache.hadoop.hbase.ServerName)">cleanOutCrashedServerReferences</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code>
<div class="block">Clean out crashed server removing any assignments.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#clearRegionPlan(org.apache.hadoop.hbase.HRegionInfo)">clearRegionPlan</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#deleteClosingOrClosedNode(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.ServerName)">deleteClosingOrClosedNode</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
                         <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#deleteMergingNode(java.lang.String,%20org.apache.hadoop.hbase.ServerName)">deleteMergingNode</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName,
                 <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#deleteNodeInStates(java.lang.String,%20java.lang.String,%20org.apache.hadoop.hbase.ServerName,%20org.apache.hadoop.hbase.executor.EventType...)">deleteNodeInStates</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName,
                  <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;desc,
                  <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
                  <a href="../../../../../org/apache/hadoop/hbase/executor/EventType.html" title="enum in org.apache.hadoop.hbase.executor">EventType</a>...&nbsp;types)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#deleteSplittingNode(java.lang.String,%20org.apache.hadoop.hbase.ServerName)">deleteSplittingNode</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName,
                   <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#doMergingOfReplicas(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo)">doMergingOfReplicas</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;mergedHri,
                   <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri_a,
                   <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri_b)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#doSplittingOfReplicas(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo)">doSplittingOfReplicas</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;parentHri,
                     <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri_a,
                     <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri_b)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#failoverCleanupDone()">failoverCleanupDone</a></strong>()</code>
<div class="block">Now, failover cleanup is completed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#forceRegionStateToOffline(org.apache.hadoop.hbase.HRegionInfo,%20boolean)">forceRegionStateToOffline</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
                         boolean&nbsp;forceNewPlan)</code>
<div class="block">Set region to OFFLINE unless it is opening and forceNewPlan is false.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../../org/apache/hadoop/hbase/master/MetricsAssignmentManager.html" title="class in org.apache.hadoop.hbase.master">MetricsAssignmentManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#getAssignmentManagerMetrics()">getAssignmentManagerMetrics</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/master/LoadBalancer.html" title="interface in org.apache.hadoop.hbase.master">LoadBalancer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#getBalancer()">getBalancer</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#getNumRegionsOpened()">getNumRegionsOpened</a></strong>()</code>
<div class="block">Used by unit tests.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/master/RegionPlan.html" title="class in org.apache.hadoop.hbase.master">RegionPlan</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#getRegionPlan(org.apache.hadoop.hbase.HRegionInfo,%20boolean)">getRegionPlan</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
             boolean&nbsp;forceNewPlan)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/master/RegionPlan.html" title="class in org.apache.hadoop.hbase.master">RegionPlan</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#getRegionPlan(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.ServerName,%20boolean)">getRegionPlan</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
             <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverToExclude,
             boolean&nbsp;forceNewPlan)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/master/RegionPlan.html" title="class in org.apache.hadoop.hbase.master">RegionPlan</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#getRegionReopenPlan(org.apache.hadoop.hbase.HRegionInfo)">getRegionReopenPlan</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html" title="class in org.apache.hadoop.hbase.master">RegionStates</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#getRegionStates()">getRegionStates</a></strong>()</code>
<div class="block">This SHOULD not be public.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../org/apache/hadoop/hbase/master/RegionStateStore.html" title="class in org.apache.hadoop.hbase.master">RegionStateStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#getRegionStateStore()">getRegionStateStore</a></strong>()</code>
<div class="block">Used in some tests to mock up region state in meta</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/util/Pair.html" title="class in org.apache.hadoop.hbase.util">Pair</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#getReopenStatus(org.apache.hadoop.hbase.TableName)">getReopenStatus</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</code>
<div class="block">Used by the client to identify if all regions have the schema updates</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#getReplicasToClose()">getReplicasToClose</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#getSnapShotOfAssignment(java.util.Collection)">getSnapShotOfAssignment</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;infos)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/TableStateManager.html" title="interface in org.apache.hadoop.hbase">TableStateManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#getTableStateManager()">getTableStateManager</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#handleAssignmentEvent(java.lang.String)">handleAssignmentEvent</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</code>
<div class="block">Pass the assignment event to a worker for processing.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#handleHBCK(org.apache.hadoop.hbase.RegionTransition)">handleHBCK</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/RegionTransition.html" title="class in org.apache.hadoop.hbase">RegionTransition</a>&nbsp;rt)</code>
<div class="block">Handle a ZK unassigned node transition triggered by HBCK repair tool.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#handleRegion(org.apache.hadoop.hbase.RegionTransition,%20org.apache.hadoop.hbase.coordination.OpenRegionCoordination,%20org.apache.hadoop.hbase.coordination.OpenRegionCoordination.OpenRegionDetails)">handleRegion</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/RegionTransition.html" title="class in org.apache.hadoop.hbase">RegionTransition</a>&nbsp;rt,
            <a href="../../../../../org/apache/hadoop/hbase/coordination/OpenRegionCoordination.html" title="interface in org.apache.hadoop.hbase.coordination">OpenRegionCoordination</a>&nbsp;coordination,
            <a href="../../../../../org/apache/hadoop/hbase/coordination/OpenRegionCoordination.OpenRegionDetails.html" title="interface in org.apache.hadoop.hbase.coordination">OpenRegionCoordination.OpenRegionDetails</a>&nbsp;ord)</code>
<div class="block">Handles various states an unassigned node can be in.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#handleRegionMerging(org.apache.hadoop.hbase.RegionTransition,%20java.lang.String,%20java.lang.String,%20org.apache.hadoop.hbase.ServerName)">handleRegionMerging</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/RegionTransition.html" title="class in org.apache.hadoop.hbase">RegionTransition</a>&nbsp;rt,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prettyPrintedRegionName,
                   <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code>
<div class="block">A helper to handle region merging transition event.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#handleRegionSplitting(org.apache.hadoop.hbase.RegionTransition,%20java.lang.String,%20java.lang.String,%20org.apache.hadoop.hbase.ServerName)">handleRegionSplitting</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/RegionTransition.html" title="class in org.apache.hadoop.hbase">RegionTransition</a>&nbsp;rt,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prettyPrintedRegionName,
                     <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code>
<div class="block">A helper to handle region splitting transition event.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#initializeHandlerTrackers()">initializeHandlerTrackers</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#invokeAssign(org.apache.hadoop.hbase.HRegionInfo)">invokeAssign</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#invokeAssign(org.apache.hadoop.hbase.HRegionInfo,%20boolean)">invokeAssign</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo,
            boolean&nbsp;newPlan)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#invokeUnAssign(org.apache.hadoop.hbase.HRegionInfo)">invokeUnAssign</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.ServerHostRegion.html" title="enum in org.apache.hadoop.hbase.master">AssignmentManager.ServerHostRegion</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#isCarryingMeta(org.apache.hadoop.hbase.ServerName)">isCarryingMeta</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.ServerHostRegion.html" title="enum in org.apache.hadoop.hbase.master">AssignmentManager.ServerHostRegion</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#isCarryingMetaReplica(org.apache.hadoop.hbase.ServerName,%20org.apache.hadoop.hbase.HRegionInfo)">isCarryingMetaReplica</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                     <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;metaHri)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.ServerHostRegion.html" title="enum in org.apache.hadoop.hbase.master">AssignmentManager.ServerHostRegion</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#isCarryingMetaReplica(org.apache.hadoop.hbase.ServerName,%20int)">isCarryingMetaReplica</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                     int&nbsp;replicaId)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.ServerHostRegion.html" title="enum in org.apache.hadoop.hbase.master">AssignmentManager.ServerHostRegion</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#isCarryingRegion(org.apache.hadoop.hbase.ServerName,%20org.apache.hadoop.hbase.HRegionInfo)">isCarryingRegion</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>
<div class="block">Check if the shutdown server carries the specific region.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#isDisabledorDisablingRegionInRIT(org.apache.hadoop.hbase.HRegionInfo)">isDisabledorDisablingRegionInRIT</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#isFailoverCleanupDone()">isFailoverCleanupDone</a></strong>()</code>
<div class="block">Used by ServerShutdownHandler to make sure AssignmentManager has completed
 the failover cleanup before re-assigning regions of dead servers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#isSplitOrSplittingOrMergedOrMerging(java.lang.String)">isSplitOrSplittingOrMergedOrMerging</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#joinCluster()">joinCluster</a></strong>()</code>
<div class="block">Called on startup.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#nodeChildrenChanged(java.lang.String)">nodeChildrenChanged</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</code>
<div class="block">New unassigned node has been created.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#nodeCreated(java.lang.String)">nodeCreated</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</code>
<div class="block">New unassigned node has been created.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#nodeDataChanged(java.lang.String)">nodeDataChanged</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</code>
<div class="block">Existing unassigned node has had data changed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#nodeDeleted(java.lang.String)">nodeDeleted</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</code>
<div class="block">Called when a node has been deleted</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#offlineDisabledRegion(org.apache.hadoop.hbase.HRegionInfo)">offlineDisabledRegion</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#onRegionClosed(org.apache.hadoop.hbase.HRegionInfo)">onRegionClosed</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#onRegionFailedOpen(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.ServerName)">onRegionFailedOpen</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                  <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#onRegionMerge(org.apache.hadoop.hbase.ServerName,%20org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos.RegionStateTransition.TransitionCode,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo)">onRegionMerge</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
             org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos.RegionStateTransition.TransitionCode&nbsp;code,
             <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;p,
             <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;a,
             <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;b)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#onRegionMergeReverted(org.apache.hadoop.hbase.ServerName,%20org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos.RegionStateTransition.TransitionCode,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo)">onRegionMergeReverted</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
                     org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos.RegionStateTransition.TransitionCode&nbsp;code,
                     <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;p,
                     <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;a,
                     <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;b)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#onRegionOpen(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.ServerName,%20long)">onRegionOpen</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
            <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
            long&nbsp;openSeqNum)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#onRegionSplit(org.apache.hadoop.hbase.ServerName,%20org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos.RegionStateTransition.TransitionCode,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo)">onRegionSplit</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
             org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos.RegionStateTransition.TransitionCode&nbsp;code,
             <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;p,
             <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;a,
             <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;b)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#onRegionSplitReverted(org.apache.hadoop.hbase.ServerName,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo)">onRegionSplitReverted</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
                     <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;p,
                     <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;a,
                     <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;b)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#onRegionTransition(org.apache.hadoop.hbase.ServerName,%20org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos.RegionStateTransition)">onRegionTransition</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                  org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos.RegionStateTransition&nbsp;transition)</code>
<div class="block">Try to update some region states.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#prepareDaughterReplicaForAssignment(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo,%20int,%20java.util.Map)">prepareDaughterReplicaForAssignment</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;daughterHri,
                                   <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;parentHri,
                                   int&nbsp;replicaId,
                                   <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;map)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#processAlreadyOpenedRegion(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.ServerName)">processAlreadyOpenedRegion</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
                          <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#processDeadServersAndRecoverLostRegions(java.util.Set)">processDeadServersAndRecoverLostRegions</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;deadServers)</code>
<div class="block">Processes list of dead servers from result of hbase:meta scan and regions in RIT.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#processDeadServersAndRegionsInTransition(java.util.Set)">processDeadServersAndRegionsInTransition</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;deadServers)</code>
<div class="block">Process all regions that are in transition in zookeeper and also
 processes the list of dead servers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#processFavoredNodes(java.util.List)">processFavoredNodes</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regions)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#processRegionInTransition(java.lang.String,%20org.apache.hadoop.hbase.HRegionInfo)">processRegionInTransition</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedRegionName,
                         <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo)</code>
<div class="block">Process failover of new master for region <code>encodedRegionName</code>
 up in zookeeper.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#processRegionInTransitionAndBlockUntilAssigned(org.apache.hadoop.hbase.HRegionInfo)">processRegionInTransitionAndBlockUntilAssigned</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>
<div class="block">If region is up in zk in transition, then do fixup and block and wait until
 the region is assigned and out of transition.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#processRegionInTransitionZkLess()">processRegionInTransitionZkLess</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#processRegionsInTransition(org.apache.hadoop.hbase.RegionTransition,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.coordination.OpenRegionCoordination,%20org.apache.hadoop.hbase.coordination.OpenRegionCoordination.OpenRegionDetails)">processRegionsInTransition</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/RegionTransition.html" title="class in org.apache.hadoop.hbase">RegionTransition</a>&nbsp;rt,
                          <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo,
                          <a href="../../../../../org/apache/hadoop/hbase/coordination/OpenRegionCoordination.html" title="interface in org.apache.hadoop.hbase.coordination">OpenRegionCoordination</a>&nbsp;coordination,
                          <a href="../../../../../org/apache/hadoop/hbase/coordination/OpenRegionCoordination.OpenRegionDetails.html" title="interface in org.apache.hadoop.hbase.coordination">OpenRegionCoordination.OpenRegionDetails</a>&nbsp;ord)</code>
<div class="block">This call is invoked only (1) master assign meta;
 (2) during failover mode startup, zk assignment node processing.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#rebuildUserRegions()">rebuildUserRegions</a></strong>()</code>
<div class="block">Rebuild the list of user regions and assignment information.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#recoverTableInDisablingState()">recoverTableInDisablingState</a></strong>()</code>
<div class="block">Recover the tables that were not fully moved to DISABLED state.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#recoverTableInEnablingState()">recoverTableInEnablingState</a></strong>()</code>
<div class="block">Recover the tables that are not fully moved to ENABLED state.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#regionOffline(org.apache.hadoop.hbase.HRegionInfo)">regionOffline</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo)</code>
<div class="block">Marks the region as offline.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#regionOffline(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.master.RegionState.State)">regionOffline</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo,
             <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>&nbsp;state)</code>
<div class="block">A region is offline.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#regionOnline(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.ServerName)">regionOnline</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo,
            <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code>
<div class="block">Marks the region as online.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#regionOnline(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.ServerName,%20long)">regionOnline</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo,
            <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
            long&nbsp;openSeqNum)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#registerListener(org.apache.hadoop.hbase.master.AssignmentListener)">registerListener</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/master/AssignmentListener.html" title="interface in org.apache.hadoop.hbase.master">AssignmentListener</a>&nbsp;listener)</code>
<div class="block">Add the listener to the notification list.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#removeClosedRegion(org.apache.hadoop.hbase.HRegionInfo)">removeClosedRegion</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>
<div class="block">When a region is closed, it should be removed from the regionsToReopen</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#replicaRegionsNotRecordedInMeta(java.util.Set,%20org.apache.hadoop.hbase.master.MasterServices)">replicaRegionsNotRecordedInMeta</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regionsRecordedInMeta,
                               <a href="../../../../../org/apache/hadoop/hbase/master/MasterServices.html" title="interface in org.apache.hadoop.hbase.master">MasterServices</a>&nbsp;master)</code>
<div class="block">Get a list of replica regions that are:
 not recorded in meta yet.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#retrySendRegionClose(org.apache.hadoop.hbase.master.RegionState)">retrySendRegionClose</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;regionState)</code>
<div class="block">At master failover, for pending_close region, make sure
 sendRegionClose RPC call is sent to the target regionserver</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#retrySendRegionOpen(org.apache.hadoop.hbase.master.RegionState)">retrySendRegionOpen</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;regionState)</code>
<div class="block">At master failover, for pending_open region, make sure
 sendRegionOpen RPC call is sent to the target regionserver</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#sendRegionClosedNotification(org.apache.hadoop.hbase.HRegionInfo)">sendRegionClosedNotification</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#sendRegionOpenedNotification(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.ServerName)">sendRegionOpenedNotification</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo,
                            <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#setEnabledTable(org.apache.hadoop.hbase.TableName)">setEnabledTable</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#setOfflineInZooKeeper(org.apache.hadoop.hbase.master.RegionState,%20org.apache.hadoop.hbase.ServerName)">setOfflineInZooKeeper</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;state,
                     <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;destination)</code>
<div class="block">Set region as OFFLINED up in zookeeper</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#setRegionStateListener(org.apache.hadoop.hbase.RegionStateListener)">setRegionStateListener</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/RegionStateListener.html" title="interface in org.apache.hadoop.hbase">RegionStateListener</a>&nbsp;listener)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#setRegionsToReopen(java.util.List)">setRegionsToReopen</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regions)</code>
<div class="block">Set the list of regions that will be reopened
 because of an update in table schema</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#setTestSkipMergeHandling(boolean)">setTestSkipMergeHandling</a></strong>(boolean&nbsp;skipMergeHandling)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#setTestSkipSplitHandling(boolean)">setTestSkipSplitHandling</a></strong>(boolean&nbsp;skipSplitHandling)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#shutdown()">shutdown</a></strong>()</code>
<div class="block">Shutdown the threadpool executor service</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#stop()">stop</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#unassign(org.apache.hadoop.hbase.HRegionInfo)">unassign</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region)</code>
<div class="block">Unassigns the specified region.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#unassign(org.apache.hadoop.hbase.HRegionInfo,%20boolean)">unassign</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
        boolean&nbsp;force)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#unassign(org.apache.hadoop.hbase.HRegionInfo,%20boolean,%20org.apache.hadoop.hbase.ServerName)">unassign</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
        boolean&nbsp;force,
        <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;dest)</code>
<div class="block">Unassigns the specified region.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#unassign(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.master.RegionState,%20int,%20org.apache.hadoop.hbase.ServerName,%20boolean,%20org.apache.hadoop.hbase.ServerName)">unassign</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
        <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;state,
        int&nbsp;versionOfClosingNode,
        <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;dest,
        boolean&nbsp;transitionInZK,
        <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;src)</code>
<div class="block">Send CLOSE RPC if the server is online, otherwise, offline the region.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#unregisterListener(org.apache.hadoop.hbase.master.AssignmentListener)">unregisterListener</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/master/AssignmentListener.html" title="interface in org.apache.hadoop.hbase.master">AssignmentListener</a>&nbsp;listener)</code>
<div class="block">Remove the listener from the notification list.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#updateClosedRegionHandlerTracker(org.apache.hadoop.hbase.HRegionInfo)">updateClosedRegionHandlerTracker</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#updateOpenedRegionHandlerTracker(org.apache.hadoop.hbase.HRegionInfo)">updateOpenedRegionHandlerTracker</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#updateRegionsInTransitionMetrics()">updateRegionsInTransitionMetrics</a></strong>()</code>
<div class="block">Set Regions in transitions metrics.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#waitForAssignment(java.util.Collection,%20boolean,%20int,%20long)">waitForAssignment</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regionSet,
                 boolean&nbsp;waitTillAllAssigned,
                 int&nbsp;reassigningRegions,
                 long&nbsp;minEndTime)</code>
<div class="block">Waits until the specified region has completed assignment, or the deadline is reached.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#waitForAssignment(java.util.Collection,%20boolean,%20long)">waitForAssignment</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regionSet,
                 boolean&nbsp;waitTillAllAssigned,
                 long&nbsp;deadline)</code>
<div class="block">Waits until the specified region has completed assignment, or the deadline is reached.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#waitForAssignment(org.apache.hadoop.hbase.HRegionInfo)">waitForAssignment</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo)</code>
<div class="block">Waits until the specified region has completed assignment.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#waitForRetryingMetaAssignment()">waitForRetryingMetaAssignment</a></strong>()</code>
<div class="block">Wait for some time before retrying meta table region assignment</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#waitOnRegionToClearRegionsInTransition(org.apache.hadoop.hbase.HRegionInfo)">waitOnRegionToClearRegionsInTransition</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>
<div class="block">Wait on region to clear regions-in-transition.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#waitOnRegionToClearRegionsInTransition(org.apache.hadoop.hbase.HRegionInfo,%20long)">waitOnRegionToClearRegionsInTransition</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                                      long&nbsp;timeOut)</code>
<div class="block">Wait on region to clear regions-in-transition or time out</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#waitUntilNoRegionsInTransition(long)">waitUntilNoRegionsInTransition</a></strong>(long&nbsp;timeout)</code>
<div class="block">Wait until no regions in transition.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#wasClosedHandlerCalled(org.apache.hadoop.hbase.HRegionInfo)">wasClosedHandlerCalled</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#wasOpenedHandlerCalled(org.apache.hadoop.hbase.HRegionInfo)">wasOpenedHandlerCalled</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#wasRegionOnDeadServerByMeta(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.ServerName)">wasRegionOnDeadServerByMeta</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
                           <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.html#zkEventWorkersSubmit(org.apache.hadoop.hbase.master.AssignmentManager.RegionRunnable)">zkEventWorkersSubmit</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.RegionRunnable.html" title="interface in org.apache.hadoop.hbase.master">AssignmentManager.RegionRunnable</a>&nbsp;regRunnable)</code>
<div class="block">Submit a task, ensuring that there is only one task at a time that working on a given region.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.hadoop.hbase.zookeeper.ZooKeeperListener">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.hadoop.hbase.zookeeper.<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperListener</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html#getWatcher()">getWatcher</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG</h4>
<pre>private static final&nbsp;org.apache.commons.logging.Log LOG</pre>
</li>
</ul>
<a name="HBCK_CODE_SERVERNAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HBCK_CODE_SERVERNAME</h4>
<pre>public static final&nbsp;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a> HBCK_CODE_SERVERNAME</pre>
</li>
</ul>
<a name="ALREADY_IN_TRANSITION_WAITTIME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ALREADY_IN_TRANSITION_WAITTIME</h4>
<pre>static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> ALREADY_IN_TRANSITION_WAITTIME</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.master.AssignmentManager.ALREADY_IN_TRANSITION_WAITTIME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_ALREADY_IN_TRANSITION_WAITTIME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_ALREADY_IN_TRANSITION_WAITTIME</h4>
<pre>static final&nbsp;int DEFAULT_ALREADY_IN_TRANSITION_WAITTIME</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.master.AssignmentManager.DEFAULT_ALREADY_IN_TRANSITION_WAITTIME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="server">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>server</h4>
<pre>protected final&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/MasterServices.html" title="interface in org.apache.hadoop.hbase.master">MasterServices</a> server</pre>
</li>
</ul>
<a name="serverManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverManager</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/ServerManager.html" title="class in org.apache.hadoop.hbase.master">ServerManager</a> serverManager</pre>
</li>
</ul>
<a name="shouldAssignRegionsWithFavoredNodes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shouldAssignRegionsWithFavoredNodes</h4>
<pre>private&nbsp;boolean shouldAssignRegionsWithFavoredNodes</pre>
</li>
</ul>
<a name="balancer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>balancer</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/LoadBalancer.html" title="interface in org.apache.hadoop.hbase.master">LoadBalancer</a> balancer</pre>
</li>
</ul>
<a name="metricsAssignmentManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>metricsAssignmentManager</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/MetricsAssignmentManager.html" title="class in org.apache.hadoop.hbase.master">MetricsAssignmentManager</a> metricsAssignmentManager</pre>
</li>
</ul>
<a name="tableLockManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tableLockManager</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/TableLockManager.html" title="class in org.apache.hadoop.hbase.master">TableLockManager</a> tableLockManager</pre>
</li>
</ul>
<a name="numRegionsOpened">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numRegionsOpened</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicInteger.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicInteger</a> numRegionsOpened</pre>
</li>
</ul>
<a name="locker">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>locker</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/hadoop/hbase/util/KeyLocker.html" title="class in org.apache.hadoop.hbase.util">KeyLocker</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt; locker</pre>
</li>
</ul>
<a name="replicasToClose">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replicasToClose</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt; replicasToClose</pre>
</li>
</ul>
<a name="regionsToReopen">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionsToReopen</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt; regionsToReopen</pre>
<div class="block">Map of regions to reopen after the schema of a table is changed. Key -
 encoded region name, value - HRegionInfo</div>
</li>
</ul>
<a name="maximumAttempts">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maximumAttempts</h4>
<pre>private final&nbsp;int maximumAttempts</pre>
</li>
</ul>
<a name="mergingRegions">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergingRegions</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/util/PairOfSameType.html" title="class in org.apache.hadoop.hbase.util">PairOfSameType</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt; mergingRegions</pre>
<div class="block">Map of two merging regions from the region to be created.</div>
</li>
</ul>
<a name="splitRegions">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitRegions</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="../../../../../org/apache/hadoop/hbase/util/PairOfSameType.html" title="class in org.apache.hadoop.hbase.util">PairOfSameType</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt; splitRegions</pre>
</li>
</ul>
<a name="sleepTimeBeforeRetryingMetaAssignment">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sleepTimeBeforeRetryingMetaAssignment</h4>
<pre>private final&nbsp;long sleepTimeBeforeRetryingMetaAssignment</pre>
<div class="block">The sleep time for which the assignment will wait before retrying in case of hbase:meta assignment
 failure due to lack of availability of region plan or bad region plan</div>
</li>
</ul>
<a name="regionPlans">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionPlans</h4>
<pre>final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/NavigableMap.html?is-external=true" title="class or interface in java.util">NavigableMap</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/master/RegionPlan.html" title="class in org.apache.hadoop.hbase.master">RegionPlan</a>&gt; regionPlans</pre>
<div class="block">Plans for region movement. Key is the encoded version of a region name</div>
</li>
</ul>
<a name="tableStateManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tableStateManager</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/hadoop/hbase/TableStateManager.html" title="interface in org.apache.hadoop.hbase">TableStateManager</a> tableStateManager</pre>
</li>
</ul>
<a name="executorService">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executorService</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/hadoop/hbase/executor/ExecutorService.html" title="class in org.apache.hadoop.hbase.executor">ExecutorService</a> executorService</pre>
</li>
</ul>
<a name="closedRegionHandlerCalled">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closedRegionHandlerCalled</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a>&gt; closedRegionHandlerCalled</pre>
</li>
</ul>
<a name="openedRegionHandlerCalled">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openedRegionHandlerCalled</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a>&gt; openedRegionHandlerCalled</pre>
</li>
</ul>
<a name="threadPoolExecutorService">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>threadPoolExecutorService</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</a> threadPoolExecutorService</pre>
</li>
</ul>
<a name="zkEventWorkers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zkEventWorkers</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</a> zkEventWorkers</pre>
</li>
</ul>
<a name="ignoreStatesRSOffline">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ignoreStatesRSOffline</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/executor/EventType.html" title="enum in org.apache.hadoop.hbase.executor">EventType</a>&gt; ignoreStatesRSOffline</pre>
</li>
</ul>
<a name="regionStates">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionStates</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html" title="class in org.apache.hadoop.hbase.master">RegionStates</a> regionStates</pre>
</li>
</ul>
<a name="bulkAssignThresholdRegions">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bulkAssignThresholdRegions</h4>
<pre>private final&nbsp;int bulkAssignThresholdRegions</pre>
</li>
</ul>
<a name="bulkAssignThresholdServers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bulkAssignThresholdServers</h4>
<pre>private final&nbsp;int bulkAssignThresholdServers</pre>
</li>
</ul>
<a name="bulkPerRegionOpenTimeGuesstimate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bulkPerRegionOpenTimeGuesstimate</h4>
<pre>private final&nbsp;int bulkPerRegionOpenTimeGuesstimate</pre>
</li>
</ul>
<a name="bulkAssignWaitTillAllAssigned">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bulkAssignWaitTillAllAssigned</h4>
<pre>private final&nbsp;boolean bulkAssignWaitTillAllAssigned</pre>
</li>
</ul>
<a name="failoverCleanupDone">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failoverCleanupDone</h4>
<pre>protected final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a> failoverCleanupDone</pre>
<div class="block">Indicator that AssignmentManager has recovered the region states so
 that ServerShutdownHandler can be fully enabled and re-assign regions
 of dead servers. So that when re-assignment happens, AssignmentManager
 has proper region states.

 Protected to ease testing.</div>
</li>
</ul>
<a name="failedOpenTracker">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failedOpenTracker</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html?is-external=true" title="class or interface in java.util.concurrent">ConcurrentHashMap</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicInteger.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicInteger</a>&gt; failedOpenTracker</pre>
<div class="block">A map to track the count a region fails to open in a row.
 So that we don't try to open a region forever if the failure is
 unrecoverable.  We don't put this information in region states
 because we don't expect this to happen frequently; we don't
 want to copy this information over during each state transition either.</div>
</li>
</ul>
<a name="useZKForAssignment">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useZKForAssignment</h4>
<pre>private final&nbsp;boolean useZKForAssignment</pre>
</li>
</ul>
<a name="regionStateStore">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionStateStore</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionStateStore.html" title="class in org.apache.hadoop.hbase.master">RegionStateStore</a> regionStateStore</pre>
</li>
</ul>
<a name="TEST_SKIP_SPLIT_HANDLING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TEST_SKIP_SPLIT_HANDLING</h4>
<pre>private static&nbsp;boolean TEST_SKIP_SPLIT_HANDLING</pre>
<div class="block">For testing only!  Set to true to skip handling of split and merge.</div>
</li>
</ul>
<a name="TEST_SKIP_MERGE_HANDLING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TEST_SKIP_MERGE_HANDLING</h4>
<pre>private static&nbsp;boolean TEST_SKIP_MERGE_HANDLING</pre>
</li>
</ul>
<a name="listeners">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listeners</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/master/AssignmentListener.html" title="interface in org.apache.hadoop.hbase.master">AssignmentListener</a>&gt; listeners</pre>
<div class="block">Listeners that are called on assignment events.</div>
</li>
</ul>
<a name="regionStateListener">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionStateListener</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/hadoop/hbase/RegionStateListener.html" title="interface in org.apache.hadoop.hbase">RegionStateListener</a> regionStateListener</pre>
</li>
</ul>
<a name="regionsInProgress">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionsInProgress</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt; regionsInProgress</pre>
</li>
</ul>
<a name="zkEventWorkerWaitingList">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>zkEventWorkerWaitingList</h4>
<pre>private final&nbsp;com.google.common.collect.LinkedHashMultimap&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.RegionRunnable.html" title="interface in org.apache.hadoop.hbase.master">AssignmentManager.RegionRunnable</a>&gt; zkEventWorkerWaitingList</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AssignmentManager(org.apache.hadoop.hbase.master.MasterServices, org.apache.hadoop.hbase.master.ServerManager, org.apache.hadoop.hbase.master.LoadBalancer, org.apache.hadoop.hbase.executor.ExecutorService, org.apache.hadoop.hbase.master.MetricsMaster, org.apache.hadoop.hbase.master.TableLockManager)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AssignmentManager</h4>
<pre>public&nbsp;AssignmentManager(<a href="../../../../../org/apache/hadoop/hbase/master/MasterServices.html" title="interface in org.apache.hadoop.hbase.master">MasterServices</a>&nbsp;server,
                 <a href="../../../../../org/apache/hadoop/hbase/master/ServerManager.html" title="class in org.apache.hadoop.hbase.master">ServerManager</a>&nbsp;serverManager,
                 <a href="../../../../../org/apache/hadoop/hbase/master/LoadBalancer.html" title="interface in org.apache.hadoop.hbase.master">LoadBalancer</a>&nbsp;balancer,
                 <a href="../../../../../org/apache/hadoop/hbase/executor/ExecutorService.html" title="class in org.apache.hadoop.hbase.executor">ExecutorService</a>&nbsp;service,
                 <a href="../../../../../org/apache/hadoop/hbase/master/MetricsMaster.html" title="class in org.apache.hadoop.hbase.master">MetricsMaster</a>&nbsp;metricsMaster,
                 <a href="../../../../../org/apache/hadoop/hbase/master/TableLockManager.html" title="class in org.apache.hadoop.hbase.master">TableLockManager</a>&nbsp;tableLockManager)
                  throws org.apache.zookeeper.KeeperException,
                         <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                         <a href="../../../../../org/apache/hadoop/hbase/CoordinatedStateException.html" title="class in org.apache.hadoop.hbase">CoordinatedStateException</a></pre>
<div class="block">Constructs a new assignment manager.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>server</code> - instance of HMaster this AM running inside</dd><dd><code>serverManager</code> - serverManager for associated HMaster</dd><dd><code>balancer</code> - implementation of <a href="../../../../../org/apache/hadoop/hbase/master/LoadBalancer.html" title="interface in org.apache.hadoop.hbase.master"><code>LoadBalancer</code></a></dd><dd><code>service</code> - Executor service</dd><dd><code>metricsMaster</code> - metrics manager</dd><dd><code>tableLockManager</code> - TableLock manager</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/CoordinatedStateException.html" title="class in org.apache.hadoop.hbase">CoordinatedStateException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getAssignmentManagerMetrics()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssignmentManagerMetrics</h4>
<pre><a href="../../../../../org/apache/hadoop/hbase/master/MetricsAssignmentManager.html" title="class in org.apache.hadoop.hbase.master">MetricsAssignmentManager</a>&nbsp;getAssignmentManagerMetrics()</pre>
</li>
</ul>
<a name="registerListener(org.apache.hadoop.hbase.master.AssignmentListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerListener</h4>
<pre>public&nbsp;void&nbsp;registerListener(<a href="../../../../../org/apache/hadoop/hbase/master/AssignmentListener.html" title="interface in org.apache.hadoop.hbase.master">AssignmentListener</a>&nbsp;listener)</pre>
<div class="block">Add the listener to the notification list.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The AssignmentListener to register</dd></dl>
</li>
</ul>
<a name="unregisterListener(org.apache.hadoop.hbase.master.AssignmentListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unregisterListener</h4>
<pre>public&nbsp;boolean&nbsp;unregisterListener(<a href="../../../../../org/apache/hadoop/hbase/master/AssignmentListener.html" title="interface in org.apache.hadoop.hbase.master">AssignmentListener</a>&nbsp;listener)</pre>
<div class="block">Remove the listener from the notification list.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The AssignmentListener to unregister</dd></dl>
</li>
</ul>
<a name="getTableStateManager()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableStateManager</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/TableStateManager.html" title="interface in org.apache.hadoop.hbase">TableStateManager</a>&nbsp;getTableStateManager()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>Instance of ZKTableStateManager.</dd></dl>
</li>
</ul>
<a name="getRegionStates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionStates</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html" title="class in org.apache.hadoop.hbase.master">RegionStates</a>&nbsp;getRegionStates()</pre>
<div class="block">This SHOULD not be public. It is public now
 because of some unit tests.

 TODO: make it package private and keep RegionStates in the master package</div>
</li>
</ul>
<a name="getRegionStateStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionStateStore</h4>
<pre><a href="../../../../../org/apache/hadoop/hbase/master/RegionStateStore.html" title="class in org.apache.hadoop.hbase.master">RegionStateStore</a>&nbsp;getRegionStateStore()</pre>
<div class="block">Used in some tests to mock up region state in meta</div>
</li>
</ul>
<a name="getRegionReopenPlan(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionReopenPlan</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionPlan.html" title="class in org.apache.hadoop.hbase.master">RegionPlan</a>&nbsp;getRegionReopenPlan(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
</li>
</ul>
<a name="addPlan(java.lang.String, org.apache.hadoop.hbase.master.RegionPlan)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPlan</h4>
<pre>public&nbsp;void&nbsp;addPlan(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName,
           <a href="../../../../../org/apache/hadoop/hbase/master/RegionPlan.html" title="class in org.apache.hadoop.hbase.master">RegionPlan</a>&nbsp;plan)</pre>
<div class="block">Add a regionPlan for the specified region.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>encodedName</code> - </dd><dd><code>plan</code> - </dd></dl>
</li>
</ul>
<a name="addPlans(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPlans</h4>
<pre>public&nbsp;void&nbsp;addPlans(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/master/RegionPlan.html" title="class in org.apache.hadoop.hbase.master">RegionPlan</a>&gt;&nbsp;plans)</pre>
<div class="block">Add a map of region plans.</div>
</li>
</ul>
<a name="setRegionsToReopen(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRegionsToReopen</h4>
<pre>public&nbsp;void&nbsp;setRegionsToReopen(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regions)</pre>
<div class="block">Set the list of regions that will be reopened
 because of an update in table schema</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>regions</code> - list of regions that should be tracked for reopen</dd></dl>
</li>
</ul>
<a name="getReopenStatus(org.apache.hadoop.hbase.TableName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReopenStatus</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/util/Pair.html" title="class in org.apache.hadoop.hbase.util">Pair</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;&nbsp;getReopenStatus(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)
                                      throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Used by the client to identify if all regions have the schema updates</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tableName</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>Pair indicating the status of the alter command</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="isFailoverCleanupDone()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFailoverCleanupDone</h4>
<pre>public&nbsp;boolean&nbsp;isFailoverCleanupDone()</pre>
<div class="block">Used by ServerShutdownHandler to make sure AssignmentManager has completed
 the failover cleanup before re-assigning regions of dead servers. So that
 when re-assignment happens, AssignmentManager has proper region states.</div>
</li>
</ul>
<a name="acquireRegionLock(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquireRegionLock</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html?is-external=true" title="class or interface in java.util.concurrent.locks">Lock</a>&nbsp;acquireRegionLock(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName)</pre>
<div class="block">To avoid racing with AM, external entities may need to lock a region,
 for example, when SSH checks what regions to skip re-assigning.</div>
</li>
</ul>
<a name="failoverCleanupDone()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failoverCleanupDone</h4>
<pre>void&nbsp;failoverCleanupDone()</pre>
<div class="block">Now, failover cleanup is completed. Notify server manager to
 process queued up dead servers processing, if any.</div>
</li>
</ul>
<a name="joinCluster()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>joinCluster</h4>
<pre>void&nbsp;joinCluster()
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                  org.apache.zookeeper.KeeperException,
                  <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                  <a href="../../../../../org/apache/hadoop/hbase/CoordinatedStateException.html" title="class in org.apache.hadoop.hbase">CoordinatedStateException</a></pre>
<div class="block">Called on startup.
 Figures whether a fresh cluster start of we are joining extant running cluster.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/CoordinatedStateException.html" title="class in org.apache.hadoop.hbase">CoordinatedStateException</a></code></dd></dl>
</li>
</ul>
<a name="processDeadServersAndRegionsInTransition(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processDeadServersAndRegionsInTransition</h4>
<pre>boolean&nbsp;processDeadServersAndRegionsInTransition(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;deadServers)
                                           throws org.apache.zookeeper.KeeperException,
                                                  <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                                  <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                                                  <a href="../../../../../org/apache/hadoop/hbase/CoordinatedStateException.html" title="class in org.apache.hadoop.hbase">CoordinatedStateException</a></pre>
<div class="block">Process all regions that are in transition in zookeeper and also
 processes the list of dead servers.
 Used by master joining an cluster.  If we figure this is a clean cluster
 startup, will assign all user regions.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>deadServers</code> - Set of servers that are offline probably legitimately that were carrying
 regions according to a scan of hbase:meta. Can be null.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/CoordinatedStateException.html" title="class in org.apache.hadoop.hbase">CoordinatedStateException</a></code></dd></dl>
</li>
</ul>
<a name="processRegionInTransitionAndBlockUntilAssigned(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processRegionInTransitionAndBlockUntilAssigned</h4>
<pre>boolean&nbsp;processRegionInTransitionAndBlockUntilAssigned(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)
                                                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                                                        org.apache.zookeeper.KeeperException,
                                                        <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">If region is up in zk in transition, then do fixup and block and wait until
 the region is assigned and out of transition.  Used on startup for
 catalog regions.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hri</code> - Region to look for.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if we processed a region in transition else false if region
 was not up in zk in transition.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="processRegionInTransition(java.lang.String, org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processRegionInTransition</h4>
<pre>boolean&nbsp;processRegionInTransition(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedRegionName,
                                <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo)
                            throws org.apache.zookeeper.KeeperException,
                                   <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Process failover of new master for region <code>encodedRegionName</code>
 up in zookeeper.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>encodedRegionName</code> - Region to process failover for.</dd><dd><code>regionInfo</code> - If null we'll go get it from meta table.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if we processed <code>regionInfo</code> as a RIT.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="processRegionsInTransition(org.apache.hadoop.hbase.RegionTransition, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.coordination.OpenRegionCoordination, org.apache.hadoop.hbase.coordination.OpenRegionCoordination.OpenRegionDetails)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processRegionsInTransition</h4>
<pre>boolean&nbsp;processRegionsInTransition(<a href="../../../../../org/apache/hadoop/hbase/RegionTransition.html" title="class in org.apache.hadoop.hbase">RegionTransition</a>&nbsp;rt,
                                 <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo,
                                 <a href="../../../../../org/apache/hadoop/hbase/coordination/OpenRegionCoordination.html" title="interface in org.apache.hadoop.hbase.coordination">OpenRegionCoordination</a>&nbsp;coordination,
                                 <a href="../../../../../org/apache/hadoop/hbase/coordination/OpenRegionCoordination.OpenRegionDetails.html" title="interface in org.apache.hadoop.hbase.coordination">OpenRegionCoordination.OpenRegionDetails</a>&nbsp;ord)
                             throws org.apache.zookeeper.KeeperException</pre>
<div class="block">This call is invoked only (1) master assign meta;
 (2) during failover mode startup, zk assignment node processing.
 The locker is set in the caller. It returns true if the region
 is in transition for sure, false otherwise.

 It should be private but it is used by some test too.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd></dl>
</li>
</ul>
<a name="removeClosedRegion(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeClosedRegion</h4>
<pre>public&nbsp;void&nbsp;removeClosedRegion(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
<div class="block">When a region is closed, it should be removed from the regionsToReopen</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hri</code> - HRegionInfo of the region which was closed</dd></dl>
</li>
</ul>
<a name="handleRegion(org.apache.hadoop.hbase.RegionTransition, org.apache.hadoop.hbase.coordination.OpenRegionCoordination, org.apache.hadoop.hbase.coordination.OpenRegionCoordination.OpenRegionDetails)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleRegion</h4>
<pre>void&nbsp;handleRegion(<a href="../../../../../org/apache/hadoop/hbase/RegionTransition.html" title="class in org.apache.hadoop.hbase">RegionTransition</a>&nbsp;rt,
                <a href="../../../../../org/apache/hadoop/hbase/coordination/OpenRegionCoordination.html" title="interface in org.apache.hadoop.hbase.coordination">OpenRegionCoordination</a>&nbsp;coordination,
                <a href="../../../../../org/apache/hadoop/hbase/coordination/OpenRegionCoordination.OpenRegionDetails.html" title="interface in org.apache.hadoop.hbase.coordination">OpenRegionCoordination.OpenRegionDetails</a>&nbsp;ord)</pre>
<div class="block">Handles various states an unassigned node can be in.
 <p>
 Method is called when a state change is suspected for an unassigned node.
 <p>
 This deals with skipped transitions (we got a CLOSED but didn't see CLOSING
 yet).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rt</code> - region transition</dd><dd><code>coordination</code> - coordination for opening region</dd><dd><code>ord</code> - details about opening region</dd></dl>
</li>
</ul>
<a name="wasClosedHandlerCalled(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wasClosedHandlerCalled</h4>
<pre>boolean&nbsp;wasClosedHandlerCalled(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
</li>
</ul>
<a name="wasOpenedHandlerCalled(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wasOpenedHandlerCalled</h4>
<pre>boolean&nbsp;wasOpenedHandlerCalled(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
</li>
</ul>
<a name="initializeHandlerTrackers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeHandlerTrackers</h4>
<pre>void&nbsp;initializeHandlerTrackers()</pre>
</li>
</ul>
<a name="updateClosedRegionHandlerTracker(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateClosedRegionHandlerTracker</h4>
<pre>void&nbsp;updateClosedRegionHandlerTracker(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
</li>
</ul>
<a name="updateOpenedRegionHandlerTracker(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateOpenedRegionHandlerTracker</h4>
<pre>void&nbsp;updateOpenedRegionHandlerTracker(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
</li>
</ul>
<a name="processFavoredNodes(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processFavoredNodes</h4>
<pre>void&nbsp;processFavoredNodes(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regions)
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="handleHBCK(org.apache.hadoop.hbase.RegionTransition)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleHBCK</h4>
<pre>private&nbsp;void&nbsp;handleHBCK(<a href="../../../../../org/apache/hadoop/hbase/RegionTransition.html" title="class in org.apache.hadoop.hbase">RegionTransition</a>&nbsp;rt)</pre>
<div class="block">Handle a ZK unassigned node transition triggered by HBCK repair tool.
 <p>
 This is handled in a separate code path because it breaks the normal rules.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rt</code> - </dd></dl>
</li>
</ul>
<a name="nodeCreated(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nodeCreated</h4>
<pre>public&nbsp;void&nbsp;nodeCreated(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</pre>
<div class="block">New unassigned node has been created.

 <p>This happens when an RS begins the OPENING or CLOSING of a region by
 creating an unassigned node.

 <p>When this happens we must:
 <ol>
   <li>Watch the node for further events</li>
   <li>Read and handle the state in the node</li>
 </ol></div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html#nodeCreated(java.lang.String)">nodeCreated</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - full path of the new node</dd></dl>
</li>
</ul>
<a name="nodeDataChanged(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nodeDataChanged</h4>
<pre>public&nbsp;void&nbsp;nodeDataChanged(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</pre>
<div class="block">Existing unassigned node has had data changed.

 <p>This happens when an RS transitions from OFFLINE to OPENING, or between
 OPENING/OPENED and CLOSING/CLOSED.

 <p>When this happens we must:
 <ol>
   <li>Watch the node for further events</li>
   <li>Read and handle the state in the node</li>
 </ol></div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html#nodeDataChanged(java.lang.String)">nodeDataChanged</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - full path of the updated node</dd></dl>
</li>
</ul>
<a name="zkEventWorkersSubmit(org.apache.hadoop.hbase.master.AssignmentManager.RegionRunnable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zkEventWorkersSubmit</h4>
<pre>protected&nbsp;void&nbsp;zkEventWorkersSubmit(<a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.RegionRunnable.html" title="interface in org.apache.hadoop.hbase.master">AssignmentManager.RegionRunnable</a>&nbsp;regRunnable)</pre>
<div class="block">Submit a task, ensuring that there is only one task at a time that working on a given region.
 Order is respected.</div>
</li>
</ul>
<a name="nodeDeleted(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nodeDeleted</h4>
<pre>public&nbsp;void&nbsp;nodeDeleted(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html#nodeDeleted(java.lang.String)">ZooKeeperListener</a></code></strong></div>
<div class="block">Called when a node has been deleted</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html#nodeDeleted(java.lang.String)">nodeDeleted</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - full path of the deleted node</dd></dl>
</li>
</ul>
<a name="nodeChildrenChanged(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nodeChildrenChanged</h4>
<pre>public&nbsp;void&nbsp;nodeChildrenChanged(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</pre>
<div class="block">New unassigned node has been created.

 <p>This happens when an RS begins the OPENING, SPLITTING or CLOSING of a
 region by creating a znode.

 <p>When this happens we must:
 <ol>
   <li>Watch the node for further children changed events</li>
   <li>Watch all new children for changed events</li>
 </ol></div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html#nodeChildrenChanged(java.lang.String)">nodeChildrenChanged</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - full path of the node whose children have changed</dd></dl>
</li>
</ul>
<a name="regionOnline(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionOnline</h4>
<pre>void&nbsp;regionOnline(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo,
                <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</pre>
<div class="block">Marks the region as online.  Removes it from regions in transition and
 updates the in-memory assignment information.
 <p>
 Used when a region has been successfully opened on a region server.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>regionInfo</code> - </dd><dd><code>sn</code> - </dd></dl>
</li>
</ul>
<a name="regionOnline(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.ServerName, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionOnline</h4>
<pre>void&nbsp;regionOnline(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo,
                <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
                long&nbsp;openSeqNum)</pre>
</li>
</ul>
<a name="handleAssignmentEvent(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleAssignmentEvent</h4>
<pre>private&nbsp;void&nbsp;handleAssignmentEvent(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</pre>
<div class="block">Pass the assignment event to a worker for processing.
 Each worker is a single thread executor service.  The reason
 for just one thread is to make sure all events for a given
 region are processed in order.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - </dd></dl>
</li>
</ul>
<a name="regionOffline(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionOffline</h4>
<pre>public&nbsp;void&nbsp;regionOffline(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo)</pre>
<div class="block">Marks the region as offline.  Removes it from regions in transition and
 removes in-memory assignment information.
 <p>
 Used when a region has been closed and should remain closed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>regionInfo</code> - </dd></dl>
</li>
</ul>
<a name="offlineDisabledRegion(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>offlineDisabledRegion</h4>
<pre>public&nbsp;void&nbsp;offlineDisabledRegion(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo)</pre>
</li>
</ul>
<a name="assign(org.apache.hadoop.hbase.HRegionInfo, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assign</h4>
<pre>public&nbsp;void&nbsp;assign(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
          boolean&nbsp;setOfflineInZK)</pre>
<div class="block">Assigns the specified region.
 <p>
 If a RegionPlan is available with a valid destination then it will be used
 to determine what server region is assigned to.  If no RegionPlan is
 available, region will be assigned to a random available server.
 <p>
 Updates the RegionState and sends the OPEN RPC.
 <p>
 This will only succeed if the region is in transition and in a CLOSED or
 OFFLINE state or not in transition (in-memory not zk), and of course, the
 chosen server is up and running (It may have just crashed!).  If the
 in-memory checks pass, the zk node is forced to OFFLINE before assigning.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>region</code> - server to be assigned</dd><dd><code>setOfflineInZK</code> - whether ZK node should be created/transitioned to an
                       OFFLINE state before assigning the region</dd></dl>
</li>
</ul>
<a name="assign(org.apache.hadoop.hbase.HRegionInfo, boolean, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assign</h4>
<pre>public&nbsp;void&nbsp;assign(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
          boolean&nbsp;setOfflineInZK,
          boolean&nbsp;forceNewPlan)</pre>
<div class="block">Use care with forceNewPlan. It could cause double assignment.</div>
</li>
</ul>
<a name="assign(org.apache.hadoop.hbase.ServerName, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assign</h4>
<pre>boolean&nbsp;assign(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;destination,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regions)
         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Bulk assign regions to <code>destination</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>destination</code> - </dd><dd><code>regions</code> - Regions to assign.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if successful</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="unassign(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.master.RegionState, int, org.apache.hadoop.hbase.ServerName, boolean, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unassign</h4>
<pre>private&nbsp;void&nbsp;unassign(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
            <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;state,
            int&nbsp;versionOfClosingNode,
            <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;dest,
            boolean&nbsp;transitionInZK,
            <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;src)</pre>
<div class="block">Send CLOSE RPC if the server is online, otherwise, offline the region.

 The RPC will be sent only to the region sever found in the region state
 if it is passed in, otherwise, to the src server specified. If region
 state is not specified, we don't update region state at all, instead
 we just send the RPC call. This is useful for some cleanup without
 messing around the region states (see handleRegion, on region opened
 on an unexpected server scenario, for an example)</div>
</li>
</ul>
<a name="forceRegionStateToOffline(org.apache.hadoop.hbase.HRegionInfo, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceRegionStateToOffline</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;forceRegionStateToOffline(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
                                    boolean&nbsp;forceNewPlan)</pre>
<div class="block">Set region to OFFLINE unless it is opening and forceNewPlan is false.</div>
</li>
</ul>
<a name="wasRegionOnDeadServerByMeta(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wasRegionOnDeadServerByMeta</h4>
<pre>protected&nbsp;boolean&nbsp;wasRegionOnDeadServerByMeta(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
                                  <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</pre>
</li>
</ul>
<a name="assign(org.apache.hadoop.hbase.master.RegionState, boolean, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assign</h4>
<pre>public&nbsp;void&nbsp;assign(<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;state,
          boolean&nbsp;setOfflineInZK,
          boolean&nbsp;forceNewPlan)</pre>
<div class="block">Caller must hold lock on the passed <code>state</code> object.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>state</code> - </dd><dd><code>setOfflineInZK</code> - </dd><dd><code>forceNewPlan</code> - </dd></dl>
</li>
</ul>
<a name="processAlreadyOpenedRegion(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processAlreadyOpenedRegion</h4>
<pre>private&nbsp;void&nbsp;processAlreadyOpenedRegion(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
                              <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</pre>
</li>
</ul>
<a name="isDisabledorDisablingRegionInRIT(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDisabledorDisablingRegionInRIT</h4>
<pre>private&nbsp;boolean&nbsp;isDisabledorDisablingRegionInRIT(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region)</pre>
</li>
</ul>
<a name="setOfflineInZooKeeper(org.apache.hadoop.hbase.master.RegionState, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOfflineInZooKeeper</h4>
<pre>private&nbsp;int&nbsp;setOfflineInZooKeeper(<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;state,
                        <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;destination)</pre>
<div class="block">Set region as OFFLINED up in zookeeper</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>state</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>the version of the offline node if setting of the OFFLINE node was
         successful, -1 otherwise.</dd></dl>
</li>
</ul>
<a name="getRegionPlan(org.apache.hadoop.hbase.HRegionInfo, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionPlan</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionPlan.html" title="class in org.apache.hadoop.hbase.master">RegionPlan</a>&nbsp;getRegionPlan(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
                       boolean&nbsp;forceNewPlan)
                          throws <a href="../../../../../org/apache/hadoop/hbase/HBaseIOException.html" title="class in org.apache.hadoop.hbase">HBaseIOException</a></pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>region</code> - the region to assign</dd>
<dt><span class="strong">Returns:</span></dt><dd>Plan for passed <code>region</code> (If none currently, it creates one or
 if no servers to assign, it returns null).</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/HBaseIOException.html" title="class in org.apache.hadoop.hbase">HBaseIOException</a></code></dd></dl>
</li>
</ul>
<a name="getRegionPlan(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.ServerName, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionPlan</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionPlan.html" title="class in org.apache.hadoop.hbase.master">RegionPlan</a>&nbsp;getRegionPlan(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
                       <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverToExclude,
                       boolean&nbsp;forceNewPlan)
                          throws <a href="../../../../../org/apache/hadoop/hbase/HBaseIOException.html" title="class in org.apache.hadoop.hbase">HBaseIOException</a></pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>region</code> - the region to assign</dd><dd><code>serverToExclude</code> - Server to exclude (we know its bad). Pass null if
 all servers are thought to be assignable.</dd><dd><code>forceNewPlan</code> - If true, then if an existing plan exists, a new plan
 will be generated.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Plan for passed <code>region</code> (If none currently, it creates one or
 if no servers to assign, it returns null).</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/HBaseIOException.html" title="class in org.apache.hadoop.hbase">HBaseIOException</a></code></dd></dl>
</li>
</ul>
<a name="waitForRetryingMetaAssignment()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForRetryingMetaAssignment</h4>
<pre>private&nbsp;void&nbsp;waitForRetryingMetaAssignment()</pre>
<div class="block">Wait for some time before retrying meta table region assignment</div>
</li>
</ul>
<a name="unassign(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unassign</h4>
<pre>public&nbsp;void&nbsp;unassign(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region)</pre>
<div class="block">Unassigns the specified region.
 <p>
 Updates the RegionState and sends the CLOSE RPC unless region is being
 split by regionserver; then the unassign fails (silently) because we
 presume the region being unassigned no longer exists (its been split out
 of existence). TODO: What to do if split fails and is rolled back and
 parent is revivified?
 <p>
 If a RegionPlan is already set, it will remain.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>region</code> - server to be unassigned</dd></dl>
</li>
</ul>
<a name="unassign(org.apache.hadoop.hbase.HRegionInfo, boolean, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unassign</h4>
<pre>public&nbsp;void&nbsp;unassign(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
            boolean&nbsp;force,
            <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;dest)</pre>
<div class="block">Unassigns the specified region.
 <p>
 Updates the RegionState and sends the CLOSE RPC unless region is being
 split by regionserver; then the unassign fails (silently) because we
 presume the region being unassigned no longer exists (its been split out
 of existence). TODO: What to do if split fails and is rolled back and
 parent is revivified?
 <p>
 If a RegionPlan is already set, it will remain.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>region</code> - server to be unassigned</dd><dd><code>force</code> - if region should be closed even if already closing</dd></dl>
</li>
</ul>
<a name="unassign(org.apache.hadoop.hbase.HRegionInfo, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unassign</h4>
<pre>public&nbsp;void&nbsp;unassign(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
            boolean&nbsp;force)</pre>
</li>
</ul>
<a name="deleteClosingOrClosedNode(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteClosingOrClosedNode</h4>
<pre>public&nbsp;void&nbsp;deleteClosingOrClosedNode(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region,
                             <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>region</code> - regioninfo of znode to be deleted.</dd></dl>
</li>
</ul>
<a name="isSplitOrSplittingOrMergedOrMerging(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSplitOrSplittingOrMergedOrMerging</h4>
<pre>private&nbsp;boolean&nbsp;isSplitOrSplittingOrMergedOrMerging(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)
                                             throws org.apache.zookeeper.KeeperException,
                                                    <a href="../../../../../org/apache/hadoop/hbase/exceptions/DeserializationException.html" title="class in org.apache.hadoop.hbase.exceptions">DeserializationException</a></pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>True if znode is in SPLIT or SPLITTING or MERGED or MERGING state.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code> - Can happen if the znode went away in meantime.</dd>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/exceptions/DeserializationException.html" title="class in org.apache.hadoop.hbase.exceptions">DeserializationException</a></code></dd></dl>
</li>
</ul>
<a name="getNumRegionsOpened()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumRegionsOpened</h4>
<pre>public&nbsp;int&nbsp;getNumRegionsOpened()</pre>
<div class="block">Used by unit tests. Return the number of regions opened so far in the life
 of the master. Increases by one every time the master opens a region</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the counter value of the number of regions opened so far</dd></dl>
</li>
</ul>
<a name="waitForAssignment(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForAssignment</h4>
<pre>public&nbsp;boolean&nbsp;waitForAssignment(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Waits until the specified region has completed assignment.
 <p>
 If the region is already assigned, returns immediately.  Otherwise, method
 blocks until the region is assigned.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>regionInfo</code> - region to wait on assignment for</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the region is assigned false otherwise.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="waitForAssignment(java.util.Collection, boolean, int, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForAssignment</h4>
<pre>protected&nbsp;boolean&nbsp;waitForAssignment(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regionSet,
                        boolean&nbsp;waitTillAllAssigned,
                        int&nbsp;reassigningRegions,
                        long&nbsp;minEndTime)
                             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Waits until the specified region has completed assignment, or the deadline is reached.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="waitForAssignment(java.util.Collection, boolean, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForAssignment</h4>
<pre>protected&nbsp;boolean&nbsp;waitForAssignment(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regionSet,
                        boolean&nbsp;waitTillAllAssigned,
                        long&nbsp;deadline)
                             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Waits until the specified region has completed assignment, or the deadline is reached.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>regionSet</code> - set of region to wait on. the set is modified and the assigned regions removed</dd><dd><code>waitTillAllAssigned</code> - true if we should wait all the regions to be assigned</dd><dd><code>deadline</code> - the timestamp after which the wait is aborted</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if all the regions are assigned false otherwise.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="assignMeta(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assignMeta</h4>
<pre>public&nbsp;void&nbsp;assignMeta(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)
                throws org.apache.zookeeper.KeeperException</pre>
<div class="block">Assigns the hbase:meta region or a replica.
 <p>
 Assumes that hbase:meta is currently closed and is not being actively served by
 any RegionServer.
 <p>
 Forcibly unsets the current meta region location in ZooKeeper and assigns
 hbase:meta to a random RegionServer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hri</code> - TODO</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd></dl>
</li>
</ul>
<a name="assign(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assign</h4>
<pre>public&nbsp;void&nbsp;assign(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;regions)
            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Assigns specified regions retaining assignments, if any.
 <p>
 This is a synchronous call and will return once every region has been
 assigned.  If anything fails, an exception is thrown</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="assign(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assign</h4>
<pre>public&nbsp;void&nbsp;assign(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regions)
            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Assigns specified regions round robin, if any.
 <p>
 This is a synchronous call and will return once every region has been
 assigned.  If anything fails, an exception is thrown</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="assign(int, int, java.lang.String, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assign</h4>
<pre>private&nbsp;void&nbsp;assign(int&nbsp;regions,
          int&nbsp;totalServers,
          <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message,
          <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt;&nbsp;bulkPlan)
             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="assignAllUserRegions(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assignAllUserRegions</h4>
<pre>private&nbsp;void&nbsp;assignAllUserRegions(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;allRegions)
                           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                  <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Assigns all user regions, if any exist.  Used during cluster startup.
 <p>
 This is a synchronous call and will return once every region has been
 assigned.  If anything fails, an exception is thrown and the cluster
 should be shutdown.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="replicaRegionsNotRecordedInMeta(java.util.Set, org.apache.hadoop.hbase.master.MasterServices)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replicaRegionsNotRecordedInMeta</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;replicaRegionsNotRecordedInMeta(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regionsRecordedInMeta,
                                                <a href="../../../../../org/apache/hadoop/hbase/master/MasterServices.html" title="interface in org.apache.hadoop.hbase.master">MasterServices</a>&nbsp;master)
                                                         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get a list of replica regions that are:
 not recorded in meta yet. We might not have recorded the locations
 for the replicas since the replicas may not have been online yet, master restarted
 in the middle of assigning, ZK erased, etc.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>regionsRecordedInMeta</code> - the list of regions we know are recorded in meta
 either as a default, or, as the location of a replica</dd><dd><code>master</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>list of replica regions</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="waitUntilNoRegionsInTransition(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitUntilNoRegionsInTransition</h4>
<pre>boolean&nbsp;waitUntilNoRegionsInTransition(long&nbsp;timeout)
                                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Wait until no regions in transition.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeout</code> - How long to wait.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if nothing in regions in transition.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="rebuildUserRegions()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rebuildUserRegions</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;rebuildUserRegions()
                             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                    org.apache.zookeeper.KeeperException,
                                    <a href="../../../../../org/apache/hadoop/hbase/CoordinatedStateException.html" title="class in org.apache.hadoop.hbase">CoordinatedStateException</a></pre>
<div class="block">Rebuild the list of user regions and assignment information.
 Updates regionstates with findings as we go through list of regions.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>set of servers not online that hosted some regions according to a scan of hbase:meta</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/CoordinatedStateException.html" title="class in org.apache.hadoop.hbase">CoordinatedStateException</a></code></dd></dl>
</li>
</ul>
<a name="recoverTableInDisablingState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverTableInDisablingState</h4>
<pre>private&nbsp;void&nbsp;recoverTableInDisablingState()
                                   throws org.apache.zookeeper.KeeperException,
                                          <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                          <a href="../../../../../org/apache/hadoop/hbase/CoordinatedStateException.html" title="class in org.apache.hadoop.hbase">CoordinatedStateException</a></pre>
<div class="block">Recover the tables that were not fully moved to DISABLED state. These
 tables are in DISABLING state when the master restarted/switched.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/TableNotFoundException.html" title="class in org.apache.hadoop.hbase">TableNotFoundException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/CoordinatedStateException.html" title="class in org.apache.hadoop.hbase">CoordinatedStateException</a></code></dd></dl>
</li>
</ul>
<a name="recoverTableInEnablingState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverTableInEnablingState</h4>
<pre>private&nbsp;void&nbsp;recoverTableInEnablingState()
                                  throws org.apache.zookeeper.KeeperException,
                                         <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                         <a href="../../../../../org/apache/hadoop/hbase/CoordinatedStateException.html" title="class in org.apache.hadoop.hbase">CoordinatedStateException</a></pre>
<div class="block">Recover the tables that are not fully moved to ENABLED state. These tables
 are in ENABLING state when the master restarted/switched</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/TableNotFoundException.html" title="class in org.apache.hadoop.hbase">TableNotFoundException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/CoordinatedStateException.html" title="class in org.apache.hadoop.hbase">CoordinatedStateException</a></code></dd></dl>
</li>
</ul>
<a name="processDeadServersAndRecoverLostRegions(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processDeadServersAndRecoverLostRegions</h4>
<pre>private&nbsp;void&nbsp;processDeadServersAndRecoverLostRegions(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;deadServers)
                                              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                                     org.apache.zookeeper.KeeperException</pre>
<div class="block">Processes list of dead servers from result of hbase:meta scan and regions in RIT.
 This is used for failover to recover the lost regions that belonged to
 RegionServers which failed while there was no active master or are offline for whatever
 reason and for regions that were in RIT.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>deadServers</code> - The list of dead servers which failed while there was no active master. Can be null.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code>org.apache.zookeeper.KeeperException</code></dd></dl>
</li>
</ul>
<a name="processRegionInTransitionZkLess()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processRegionInTransitionZkLess</h4>
<pre>void&nbsp;processRegionInTransitionZkLess()</pre>
</li>
</ul>
<a name="retrySendRegionOpen(org.apache.hadoop.hbase.master.RegionState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrySendRegionOpen</h4>
<pre>private&nbsp;void&nbsp;retrySendRegionOpen(<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;regionState)</pre>
<div class="block">At master failover, for pending_open region, make sure
 sendRegionOpen RPC call is sent to the target regionserver</div>
</li>
</ul>
<a name="retrySendRegionClose(org.apache.hadoop.hbase.master.RegionState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrySendRegionClose</h4>
<pre>private&nbsp;void&nbsp;retrySendRegionClose(<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;regionState)</pre>
<div class="block">At master failover, for pending_close region, make sure
 sendRegionClose RPC call is sent to the target regionserver</div>
</li>
</ul>
<a name="updateRegionsInTransitionMetrics()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateRegionsInTransitionMetrics</h4>
<pre>public&nbsp;void&nbsp;updateRegionsInTransitionMetrics()</pre>
<div class="block">Set Regions in transitions metrics.
 This takes an iterator on the RegionInTransition map (CLSM), and is not synchronized.
 This iterator is not fail fast, which may lead to stale read; but that's better than
 creating a copy of the map for metrics computation, as this method will be invoked
 on a frequent interval.</div>
</li>
</ul>
<a name="clearRegionPlan(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearRegionPlan</h4>
<pre>void&nbsp;clearRegionPlan(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>region</code> - Region whose plan we are to clear.</dd></dl>
</li>
</ul>
<a name="waitOnRegionToClearRegionsInTransition(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitOnRegionToClearRegionsInTransition</h4>
<pre>public&nbsp;void&nbsp;waitOnRegionToClearRegionsInTransition(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)
                                            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                                   <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Wait on region to clear regions-in-transition.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hri</code> - Region to wait on.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="waitOnRegionToClearRegionsInTransition(org.apache.hadoop.hbase.HRegionInfo, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitOnRegionToClearRegionsInTransition</h4>
<pre>public&nbsp;boolean&nbsp;waitOnRegionToClearRegionsInTransition(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                                             long&nbsp;timeOut)
                                               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Wait on region to clear regions-in-transition or time out</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hri</code> - </dd><dd><code>timeOut</code> - Milliseconds to wait for current region to be out of transition state.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True when a region clears regions-in-transition before timeout otherwise false</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="invokeAssign(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invokeAssign</h4>
<pre>void&nbsp;invokeAssign(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo)</pre>
</li>
</ul>
<a name="invokeAssign(org.apache.hadoop.hbase.HRegionInfo, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invokeAssign</h4>
<pre>void&nbsp;invokeAssign(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo,
                boolean&nbsp;newPlan)</pre>
</li>
</ul>
<a name="invokeUnAssign(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invokeUnAssign</h4>
<pre>void&nbsp;invokeUnAssign(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo)</pre>
</li>
</ul>
<a name="isCarryingMeta(org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCarryingMeta</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.ServerHostRegion.html" title="enum in org.apache.hadoop.hbase.master">AssignmentManager.ServerHostRegion</a>&nbsp;isCarryingMeta(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</pre>
</li>
</ul>
<a name="isCarryingMetaReplica(org.apache.hadoop.hbase.ServerName, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCarryingMetaReplica</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.ServerHostRegion.html" title="enum in org.apache.hadoop.hbase.master">AssignmentManager.ServerHostRegion</a>&nbsp;isCarryingMetaReplica(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                                                       int&nbsp;replicaId)</pre>
</li>
</ul>
<a name="isCarryingMetaReplica(org.apache.hadoop.hbase.ServerName, org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCarryingMetaReplica</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.ServerHostRegion.html" title="enum in org.apache.hadoop.hbase.master">AssignmentManager.ServerHostRegion</a>&nbsp;isCarryingMetaReplica(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                                                       <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;metaHri)</pre>
</li>
</ul>
<a name="isCarryingRegion(org.apache.hadoop.hbase.ServerName, org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCarryingRegion</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.ServerHostRegion.html" title="enum in org.apache.hadoop.hbase.master">AssignmentManager.ServerHostRegion</a>&nbsp;isCarryingRegion(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                                                  <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
<div class="block">Check if the shutdown server carries the specific region.
 We have a bunch of places that store region location
 Those values aren't consistent. There is a delay of notification.
 The location from zookeeper unassigned node has the most recent data;
 but the node could be deleted after the region is opened by AM.
 The AM's info could be old when OpenedRegionHandler
 processing hasn't finished yet when server shutdown occurs.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>whether the serverName currently hosts the region</dd></dl>
</li>
</ul>
<a name="cleanOutCrashedServerReferences(org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanOutCrashedServerReferences</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;cleanOutCrashedServerReferences(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</pre>
<div class="block">Clean out crashed server removing any assignments.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>sn</code> - Server that went down.</dd>
<dt><span class="strong">Returns:</span></dt><dd>list of regions in transition on this server</dd></dl>
</li>
</ul>
<a name="balance(org.apache.hadoop.hbase.master.RegionPlan)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>balance</h4>
<pre>public&nbsp;void&nbsp;balance(<a href="../../../../../org/apache/hadoop/hbase/master/RegionPlan.html" title="class in org.apache.hadoop.hbase.master">RegionPlan</a>&nbsp;plan)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>plan</code> - Plan to execute.</dd></dl>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
</li>
</ul>
<a name="shutdown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()</pre>
<div class="block">Shutdown the threadpool executor service</div>
</li>
</ul>
<a name="setEnabledTable(org.apache.hadoop.hbase.TableName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEnabledTable</h4>
<pre>protected&nbsp;void&nbsp;setEnabledTable(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</pre>
</li>
</ul>
<a name="asyncSetOfflineInZooKeeper(org.apache.hadoop.hbase.master.RegionState, org.apache.zookeeper.AsyncCallback.StringCallback, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asyncSetOfflineInZooKeeper</h4>
<pre>private&nbsp;boolean&nbsp;asyncSetOfflineInZooKeeper(<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;state,
                                 org.apache.zookeeper.AsyncCallback.StringCallback&nbsp;cb,
                                 <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;destination)</pre>
<div class="block">Set region as OFFLINED up in zookeeper asynchronously.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>state</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>True if we succeeded, false otherwise (State was incorrect or failed
 updating zk).</dd></dl>
</li>
</ul>
<a name="deleteNodeInStates(java.lang.String, java.lang.String, org.apache.hadoop.hbase.ServerName, org.apache.hadoop.hbase.executor.EventType...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteNodeInStates</h4>
<pre>private&nbsp;boolean&nbsp;deleteNodeInStates(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName,
                         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;desc,
                         <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
                         <a href="../../../../../org/apache/hadoop/hbase/executor/EventType.html" title="enum in org.apache.hadoop.hbase.executor">EventType</a>...&nbsp;types)</pre>
</li>
</ul>
<a name="deleteMergingNode(java.lang.String, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteMergingNode</h4>
<pre>private&nbsp;void&nbsp;deleteMergingNode(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName,
                     <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</pre>
</li>
</ul>
<a name="deleteSplittingNode(java.lang.String, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteSplittingNode</h4>
<pre>private&nbsp;void&nbsp;deleteSplittingNode(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName,
                       <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</pre>
</li>
</ul>
<a name="onRegionFailedOpen(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onRegionFailedOpen</h4>
<pre>private&nbsp;void&nbsp;onRegionFailedOpen(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                      <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</pre>
</li>
</ul>
<a name="onRegionOpen(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.ServerName, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onRegionOpen</h4>
<pre>private&nbsp;void&nbsp;onRegionOpen(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
                long&nbsp;openSeqNum)</pre>
</li>
</ul>
<a name="onRegionClosed(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onRegionClosed</h4>
<pre>private&nbsp;void&nbsp;onRegionClosed(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
</li>
</ul>
<a name="checkInStateForSplit(org.apache.hadoop.hbase.ServerName, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkInStateForSplit</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;checkInStateForSplit(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
                          <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;p,
                          <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;a,
                          <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;b)</pre>
</li>
</ul>
<a name="onRegionSplitReverted(org.apache.hadoop.hbase.ServerName, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onRegionSplitReverted</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;onRegionSplitReverted(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
                           <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;p,
                           <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;a,
                           <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;b)</pre>
</li>
</ul>
<a name="onRegionSplit(org.apache.hadoop.hbase.ServerName, org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos.RegionStateTransition.TransitionCode, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onRegionSplit</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;onRegionSplit(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
                   org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos.RegionStateTransition.TransitionCode&nbsp;code,
                   <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;p,
                   <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;a,
                   <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;b)</pre>
</li>
</ul>
<a name="onRegionMerge(org.apache.hadoop.hbase.ServerName, org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos.RegionStateTransition.TransitionCode, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onRegionMerge</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;onRegionMerge(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
                   org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos.RegionStateTransition.TransitionCode&nbsp;code,
                   <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;p,
                   <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;a,
                   <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;b)</pre>
</li>
</ul>
<a name="onRegionMergeReverted(org.apache.hadoop.hbase.ServerName, org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos.RegionStateTransition.TransitionCode, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onRegionMergeReverted</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;onRegionMergeReverted(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
                           org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos.RegionStateTransition.TransitionCode&nbsp;code,
                           <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;p,
                           <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;a,
                           <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;b)</pre>
</li>
</ul>
<a name="handleRegionMerging(org.apache.hadoop.hbase.RegionTransition, java.lang.String, java.lang.String, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleRegionMerging</h4>
<pre>private&nbsp;boolean&nbsp;handleRegionMerging(<a href="../../../../../org/apache/hadoop/hbase/RegionTransition.html" title="class in org.apache.hadoop.hbase">RegionTransition</a>&nbsp;rt,
                          <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName,
                          <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prettyPrintedRegionName,
                          <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</pre>
<div class="block">A helper to handle region merging transition event.
 It transitions merging regions to MERGING state.</div>
</li>
</ul>
<a name="handleRegionSplitting(org.apache.hadoop.hbase.RegionTransition, java.lang.String, java.lang.String, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleRegionSplitting</h4>
<pre>private&nbsp;boolean&nbsp;handleRegionSplitting(<a href="../../../../../org/apache/hadoop/hbase/RegionTransition.html" title="class in org.apache.hadoop.hbase">RegionTransition</a>&nbsp;rt,
                            <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName,
                            <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prettyPrintedRegionName,
                            <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</pre>
<div class="block">A helper to handle region splitting transition event.</div>
</li>
</ul>
<a name="doMergingOfReplicas(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doMergingOfReplicas</h4>
<pre>private&nbsp;void&nbsp;doMergingOfReplicas(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;mergedHri,
                       <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri_a,
                       <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri_b)</pre>
</li>
</ul>
<a name="doSplittingOfReplicas(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doSplittingOfReplicas</h4>
<pre>private&nbsp;void&nbsp;doSplittingOfReplicas(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;parentHri,
                         <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri_a,
                         <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri_b)</pre>
</li>
</ul>
<a name="prepareDaughterReplicaForAssignment(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo, int, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareDaughterReplicaForAssignment</h4>
<pre>private&nbsp;void&nbsp;prepareDaughterReplicaForAssignment(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;daughterHri,
                                       <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;parentHri,
                                       int&nbsp;replicaId,
                                       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;map)</pre>
</li>
</ul>
<a name="getReplicasToClose()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReplicasToClose</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;getReplicasToClose()</pre>
</li>
</ul>
<a name="regionOffline(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.master.RegionState.State)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionOffline</h4>
<pre>private&nbsp;void&nbsp;regionOffline(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo,
                 <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>&nbsp;state)</pre>
<div class="block">A region is offline.  The new state should be the specified one,
 if not null.  If the specified state is null, the new state is Offline.
 The specified state can be Split/Merged/Offline/null only.</div>
</li>
</ul>
<a name="sendRegionOpenedNotification(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendRegionOpenedNotification</h4>
<pre>private&nbsp;void&nbsp;sendRegionOpenedNotification(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo,
                                <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</pre>
</li>
</ul>
<a name="sendRegionClosedNotification(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendRegionClosedNotification</h4>
<pre>private&nbsp;void&nbsp;sendRegionClosedNotification(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo)</pre>
</li>
</ul>
<a name="onRegionTransition(org.apache.hadoop.hbase.ServerName, org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos.RegionStateTransition)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onRegionTransition</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;onRegionTransition(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                        org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos.RegionStateTransition&nbsp;transition)</pre>
<div class="block">Try to update some region states. If the state machine prevents
 such update, an error message is returned to explain the reason.

 It's expected that in each transition there should have just one
 region for opening/closing, 3 regions for splitting/merging.
 These regions should be on the server that requested the change.

 Region state machine. Only these transitions
 are expected to be triggered by a region server.

 On the state transition:
  (1) Open/Close should be initiated by master
      (a) Master sets the region to pending_open/pending_close
        in memory and hbase:meta after sending the request
        to the region server
      (b) Region server reports back to the master
        after open/close is done (either success/failure)
      (c) If region server has problem to report the status
        to master, it must be because the master is down or some
        temporary network issue. Otherwise, the region server should
        abort since it must be a bug. If the master is not accessible,
        the region server should keep trying until the server is
        stopped or till the status is reported to the (new) master
      (d) If region server dies in the middle of opening/closing
        a region, SSH picks it up and finishes it
      (e) If master dies in the middle, the new master recovers
        the state during initialization from hbase:meta. Region server
        can report any transition that has not been reported to
        the previous active master yet
  (2) Split/merge is initiated by region servers
      (a) To split a region, a region server sends a request
        to master to try to set a region to splitting, together with
        two daughters (to be created) to splitting new. If approved
        by the master, the splitting can then move ahead
      (b) To merge two regions, a region server sends a request to
        master to try to set the new merged region (to be created) to
        merging_new, together with two regions (to be merged) to merging.
        If it is ok with the master, the merge can then move ahead
      (c) Once the splitting/merging is done, the region server
        reports the status back to the master either success/failure.
      (d) Other scenarios should be handled similarly as for
        region open/close</div>
</li>
</ul>
<a name="getBalancer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBalancer</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/LoadBalancer.html" title="interface in org.apache.hadoop.hbase.master">LoadBalancer</a>&nbsp;getBalancer()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>Instance of load balancer</dd></dl>
</li>
</ul>
<a name="getSnapShotOfAssignment(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSnapShotOfAssignment</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt;&nbsp;getSnapShotOfAssignment(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;infos)</pre>
</li>
</ul>
<a name="setRegionStateListener(org.apache.hadoop.hbase.RegionStateListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRegionStateListener</h4>
<pre>void&nbsp;setRegionStateListener(<a href="../../../../../org/apache/hadoop/hbase/RegionStateListener.html" title="interface in org.apache.hadoop.hbase">RegionStateListener</a>&nbsp;listener)</pre>
</li>
</ul>
<a name="setTestSkipSplitHandling(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTestSkipSplitHandling</h4>
<pre>public static&nbsp;void&nbsp;setTestSkipSplitHandling(boolean&nbsp;skipSplitHandling)</pre>
</li>
</ul>
<a name="setTestSkipMergeHandling(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setTestSkipMergeHandling</h4>
<pre>public static&nbsp;void&nbsp;setTestSkipMergeHandling(boolean&nbsp;skipMergeHandling)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AssignmentManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentListener.html" title="interface in org.apache.hadoop.hbase.master"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/master/AssignmentManager.RegionRunnable.html" title="interface in org.apache.hadoop.hbase.master"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/master/AssignmentManager.html" target="_top">Frames</a></li>
<li><a href="AssignmentManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2007&#x2013;2019 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
