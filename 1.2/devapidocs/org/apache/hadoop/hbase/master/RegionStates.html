<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>RegionStates (Apache HBase 1.2.12 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RegionStates (Apache HBase 1.2.12 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RegionStates.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/master/RegionStateStore.html" title="class in org.apache.hadoop.hbase.master"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/master/RegionStates.html" target="_top">Frames</a></li>
<li><a href="RegionStates.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hbase.master</div>
<h2 title="Class RegionStates" class="title">Class RegionStates</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hbase.master.RegionStates</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="../../../../../org/apache/hadoop/hbase/classification/InterfaceAudience.Private.html" title="annotation in org.apache.hadoop.hbase.classification">@InterfaceAudience.Private</a>
public class <span class="strong">RegionStates</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Region state accountant. It holds the states of all regions in the memory.
 In normal scenario, it should match the meta table and the true region states.

 This map is used by AssignmentManager to track region states.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#deadServers">deadServers</a></strong></code>
<div class="block">Map a host port pair string to the latest start code
 of a region server which is known to be dead.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#DEFAULT_LOG_SPLIT_TIME">DEFAULT_LOG_SPLIT_TIME</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#defaultReplicaToOtherReplicas">defaultReplicaToOtherReplicas</a></strong></code>
<div class="block">Maintains the mapping from the default region to the replica regions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#lastAssignments">lastAssignments</a></strong></code>
<div class="block">Encoded region name to server assignment map for re-assignment
 purpose.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#lastProcessedServerCleanTime">lastProcessedServerCleanTime</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static org.apache.commons.logging.Log</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#LOG">LOG</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#LOG_SPLIT_TIME">LOG_SPLIT_TIME</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#oldAssignments">oldAssignments</a></strong></code>
<div class="block">Encoded region name to server assignment map for the
 purpose to clean up serverHoldings when a region is online
 on a new server.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#processedServers">processedServers</a></strong></code>
<div class="block">Map a dead servers to the time when log split is done.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html?is-external=true" title="class or interface in java.util">TreeMap</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#regionAssignments">regionAssignments</a></strong></code>
<div class="block">Region to server assignment map.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#regionsInTransition">regionsInTransition</a></strong></code>
<div class="block">Regions currently in transition.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#regionStates">regionStates</a></strong></code>
<div class="block">Region encoded name to state map.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#regionStatesTableIndex">regionStatesTableIndex</a></strong></code>
<div class="block">Holds mapping of table -> region state</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/master/RegionStateStore.html" title="class in org.apache.hadoop.hbase.master">RegionStateStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#regionStateStore">regionStateStore</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/Server.html" title="interface in org.apache.hadoop.hbase">Server</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#server">server</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#serverHoldings">serverHoldings</a></strong></code>
<div class="block">Server to regions assignment map.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/master/ServerManager.html" title="class in org.apache.hadoop.hbase.master">ServerManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#serverManager">serverManager</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/TableStateManager.html" title="interface in org.apache.hadoop.hbase">TableStateManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#tableStateManager">tableStateManager</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#useZK">useZK</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#RegionStates(org.apache.hadoop.hbase.Server,%20org.apache.hadoop.hbase.TableStateManager,%20org.apache.hadoop.hbase.master.ServerManager,%20org.apache.hadoop.hbase.master.RegionStateStore)">RegionStates</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/Server.html" title="interface in org.apache.hadoop.hbase">Server</a>&nbsp;master,
            <a href="../../../../../org/apache/hadoop/hbase/TableStateManager.html" title="interface in org.apache.hadoop.hbase">TableStateManager</a>&nbsp;tableStateManager,
            <a href="../../../../../org/apache/hadoop/hbase/master/ServerManager.html" title="class in org.apache.hadoop.hbase.master">ServerManager</a>&nbsp;serverManager,
            <a href="../../../../../org/apache/hadoop/hbase/master/RegionStateStore.html" title="class in org.apache.hadoop.hbase.master">RegionStateStore</a>&nbsp;regionStateStore)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#addToReplicaMapping(org.apache.hadoop.hbase.HRegionInfo)">addToReplicaMapping</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#addToServerHoldings(org.apache.hadoop.hbase.ServerName,%20org.apache.hadoop.hbase.HRegionInfo)">addToServerHoldings</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                   <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#cleanFailedSplitMergeRegions(java.util.Set)">cleanFailedSplitMergeRegions</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;hris)</code>
<div class="block">This method does an RPC to hbase:meta.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#clearLastAssignment(org.apache.hadoop.hbase.HRegionInfo)">clearLastAssignment</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#closeAllUserRegions(java.util.Set)">closeAllUserRegions</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&gt;&nbsp;excludedTables)</code>
<div class="block">At cluster clean re/start, mark all user regions closed except those of tables
 that are excluded, such as disabled/disabling/enabling tables.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#createRegionState(org.apache.hadoop.hbase.HRegionInfo)">createRegionState</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>
<div class="block">Add a region to RegionStates.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#createRegionState(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.master.RegionState.State,%20org.apache.hadoop.hbase.ServerName,%20org.apache.hadoop.hbase.ServerName)">createRegionState</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                 <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>&nbsp;newState,
                 <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                 <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;lastHost)</code>
<div class="block">Add a region to RegionStates with the specified state.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#createRegionStates(java.util.List)">createRegionStates</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;hris)</code>
<div class="block">Add a list of regions to RegionStates.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#deleteRegion(org.apache.hadoop.hbase.HRegionInfo)">deleteRegion</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>
<div class="block">Remove a region from all state maps.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#existsInServerHoldings(org.apache.hadoop.hbase.ServerName,%20org.apache.hadoop.hbase.HRegionInfo)">existsInServerHoldings</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                      <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>
<div class="block">Used in some unit tests</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getAssignmentsByTable()">getAssignmentsByTable</a></strong>()</code>
<div class="block">This is an EXPENSIVE clone.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getAverageLoad()">getAverageLoad</a></strong>()</code>
<div class="block">Compute the average load across all region servers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getLastRegionServerOfRegion(java.lang.String)">getLastRegionServerOfRegion</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName)</code>
<div class="block">Get the last region server a region was on for purpose of re-assignment,
 i.e.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getRegionAssignments()">getRegionAssignments</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getRegionAssignments(java.util.Collection)">getRegionAssignments</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regions)</code>
<div class="block">Return the replicas (including default) for the regions grouped by ServerName</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getRegionAssignmentsByServer()">getRegionAssignmentsByServer</a></strong>()</code>
<div class="block">Returns a clone of region assignments per server</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getRegionByStateOfTable(org.apache.hadoop.hbase.TableName)">getRegionByStateOfTable</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</code>
<div class="block">Gets current state of all regions of the table.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getRegionInfo(byte[])">getRegionInfo</a></strong>(byte[]&nbsp;regionName)</code>
<div class="block">Get the HRegionInfo from cache, if not there, from the hbase:meta table</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getRegionReplication(org.apache.hadoop.hbase.HRegionInfo)">getRegionReplication</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;r)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getRegionServerOfRegion(org.apache.hadoop.hbase.HRegionInfo)">getRegionServerOfRegion</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getRegionsInTransition()">getRegionsInTransition</a></strong>()</code>
<div class="block">Get regions in transition and their states</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getRegionsOfTable(org.apache.hadoop.hbase.TableName)">getRegionsOfTable</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</code>
<div class="block">Gets the online regions of the specified table.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getRegionState(org.apache.hadoop.hbase.HRegionInfo)">getRegionState</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getRegionState(java.lang.String)">getRegionState</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getRegionTransitionState(org.apache.hadoop.hbase.HRegionInfo)">getRegionTransitionState</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>
<div class="block">Get region transition state</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getRegionTransitionState(java.lang.String)">getRegionTransitionState</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName)</code>
<div class="block">Get region transition state</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#getServerRegions(org.apache.hadoop.hbase.ServerName)">getServerRegions</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code>
<div class="block">Get a copy of all regions assigned to a server</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#isOneOfStates(org.apache.hadoop.hbase.master.RegionState,%20org.apache.hadoop.hbase.master.RegionState.State...)">isOneOfStates</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;regionState,
             <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>...&nbsp;states)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#isRegionInRegionStates(org.apache.hadoop.hbase.HRegionInfo)">isRegionInRegionStates</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#isRegionInState(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.master.RegionState.State...)">isRegionInState</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
               <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>...&nbsp;states)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#isRegionInState(java.lang.String,%20org.apache.hadoop.hbase.master.RegionState.State...)">isRegionInState</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName,
               <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>...&nbsp;states)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#isRegionInTransition(org.apache.hadoop.hbase.HRegionInfo)">isRegionInTransition</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#isRegionInTransition(java.lang.String)">isRegionInTransition</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#isRegionOffline(org.apache.hadoop.hbase.HRegionInfo)">isRegionOffline</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#isRegionOnline(org.apache.hadoop.hbase.HRegionInfo)">isRegionOnline</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#isRegionsInTransition()">isRegionsInTransition</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#isServerDeadAndNotProcessed(org.apache.hadoop.hbase.ServerName)">isServerDeadAndNotProcessed</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;server)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#logSplit(org.apache.hadoop.hbase.HRegionInfo)">logSplit</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region)</code>
<div class="block">Log split is done for a given region, so it is assignable now.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#logSplit(org.apache.hadoop.hbase.ServerName)">logSplit</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code>
<div class="block">A dead server's wals have been split so that all the regions
 used to be open on it can be safely assigned now.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#mergeRegions(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.ServerName)">mergeRegions</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;p,
            <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;a,
            <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;b,
            <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#putRegionState(org.apache.hadoop.hbase.master.RegionState)">putRegionState</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;regionState)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#regionOffline(org.apache.hadoop.hbase.HRegionInfo)">regionOffline</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>
<div class="block">A region is offline, won't be in transition any more.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#regionOffline(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.master.RegionState.State)">regionOffline</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
             <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>&nbsp;expectedState)</code>
<div class="block">A region is offline, won't be in transition any more.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#regionOnline(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.ServerName)">regionOnline</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
            <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#regionOnline(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.ServerName,%20long)">regionOnline</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
            <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
            long&nbsp;openSeqNum)</code>
<div class="block">A region is online, won't be in transition any more.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#removeFromReplicaMapping(org.apache.hadoop.hbase.HRegionInfo)">removeFromReplicaMapping</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#removeFromServerHoldings(org.apache.hadoop.hbase.ServerName,%20org.apache.hadoop.hbase.HRegionInfo)">removeFromServerHoldings</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                        <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#serverOffline(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher,%20org.apache.hadoop.hbase.ServerName)">serverOffline</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;watcher,
             <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code>
<div class="block">A server is offline, all regions on it are dead.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#setLastRegionServerOfRegion(org.apache.hadoop.hbase.ServerName,%20java.lang.String)">setLastRegionServerOfRegion</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#setLastRegionServerOfRegions(org.apache.hadoop.hbase.ServerName,%20java.util.List)">setLastRegionServerOfRegions</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regionInfos)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#setRegionStateTOCLOSED(byte[],%20org.apache.hadoop.hbase.ServerName)">setRegionStateTOCLOSED</a></strong>(byte[]&nbsp;regionName,
                      <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code>
<div class="block">Set the region state to CLOSED</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#setRegionStateTOCLOSED(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.ServerName)">setRegionStateTOCLOSED</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo,
                      <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code>
<div class="block">Set the region state to CLOSED</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#splitRegion(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.ServerName)">splitRegion</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;p,
           <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;a,
           <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;b,
           <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#tableDeleted(org.apache.hadoop.hbase.TableName)">tableDeleted</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</code>
<div class="block">A table is deleted.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#transitionOpenFromPendingOpenOrOpeningOnServer(org.apache.hadoop.hbase.RegionTransition,%20org.apache.hadoop.hbase.master.RegionState,%20org.apache.hadoop.hbase.ServerName)">transitionOpenFromPendingOpenOrOpeningOnServer</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/RegionTransition.html" title="class in org.apache.hadoop.hbase">RegionTransition</a>&nbsp;transition,
                                              <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;fromState,
                                              <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code>
<div class="block">Transition a region state to OPEN from OPENING/PENDING_OPEN</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#updateRegionState(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.master.RegionState.State)">updateRegionState</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                 <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>&nbsp;state)</code>
<div class="block">Update a region state.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#updateRegionState(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.master.RegionState.State,%20org.apache.hadoop.hbase.ServerName)">updateRegionState</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                 <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>&nbsp;state,
                 <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code>
<div class="block">Update a region state.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#updateRegionState(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.master.RegionState.State,%20org.apache.hadoop.hbase.ServerName,%20long)">updateRegionState</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                 <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>&nbsp;state,
                 <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                 long&nbsp;openSeqNum)</code>
<div class="block">Update a region state.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#updateRegionState(org.apache.hadoop.hbase.RegionTransition,%20org.apache.hadoop.hbase.master.RegionState.State)">updateRegionState</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/RegionTransition.html" title="class in org.apache.hadoop.hbase">RegionTransition</a>&nbsp;transition,
                 <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>&nbsp;state)</code>
<div class="block">Update a region state.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#waitForUpdate(long)">waitForUpdate</a></strong>(long&nbsp;timeout)</code>
<div class="block">Wait for the state map to be updated by assignment manager.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#waitOnRegionToClearRegionsInTransition(org.apache.hadoop.hbase.HRegionInfo)">waitOnRegionToClearRegionsInTransition</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</code>
<div class="block">Wait on region to clear regions-in-transition.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/master/RegionStates.html#wasRegionOnDeadServer(java.lang.String)">wasRegionOnDeadServer</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName)</code>
<div class="block">Checking if a region was assigned to a server which is not online now.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG</h4>
<pre>private static final&nbsp;org.apache.commons.logging.Log LOG</pre>
</li>
</ul>
<a name="regionsInTransition">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionsInTransition</h4>
<pre>final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&gt; regionsInTransition</pre>
<div class="block">Regions currently in transition.</div>
</li>
</ul>
<a name="regionStates">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionStates</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&gt; regionStates</pre>
<div class="block">Region encoded name to state map.
 All the regions should be in this map.</div>
</li>
</ul>
<a name="regionStatesTableIndex">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionStatesTableIndex</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&gt;&gt; regionStatesTableIndex</pre>
<div class="block">Holds mapping of table -> region state</div>
</li>
</ul>
<a name="serverHoldings">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverHoldings</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt; serverHoldings</pre>
<div class="block">Server to regions assignment map.
 Contains the set of regions currently assigned to a given server.</div>
</li>
</ul>
<a name="defaultReplicaToOtherReplicas">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defaultReplicaToOtherReplicas</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt; defaultReplicaToOtherReplicas</pre>
<div class="block">Maintains the mapping from the default region to the replica regions.</div>
</li>
</ul>
<a name="regionAssignments">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionAssignments</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html?is-external=true" title="class or interface in java.util">TreeMap</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt; regionAssignments</pre>
<div class="block">Region to server assignment map.
 Contains the server a given region is currently assigned to.</div>
</li>
</ul>
<a name="lastAssignments">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastAssignments</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt; lastAssignments</pre>
<div class="block">Encoded region name to server assignment map for re-assignment
 purpose. Contains the server a given region is last known assigned
 to, which has not completed log splitting, so not assignable.
 If a region is currently assigned, this server info in this
 map should be the same as that in regionAssignments.
 However the info in regionAssignments is cleared when the region
 is offline while the info in lastAssignments is cleared when
 the region is closed or the server is dead and processed.</div>
</li>
</ul>
<a name="oldAssignments">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>oldAssignments</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt; oldAssignments</pre>
<div class="block">Encoded region name to server assignment map for the
 purpose to clean up serverHoldings when a region is online
 on a new server. When the region is offline from the previous
 server, we cleaned up regionAssignments so that it has the
 latest assignment map. But we didn't clean up serverHoldings
 to match the meta. We need this map to find out the old server
 whose serverHoldings needs cleanup, given a moved region.</div>
</li>
</ul>
<a name="deadServers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deadServers</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt; deadServers</pre>
<div class="block">Map a host port pair string to the latest start code
 of a region server which is known to be dead. It is dead
 to us, but server manager may not know it yet.</div>
</li>
</ul>
<a name="processedServers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processedServers</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt; processedServers</pre>
<div class="block">Map a dead servers to the time when log split is done.
 Since log splitting is not ordered, we have to remember
 all processed instances. The map is cleaned up based
 on a configured time. By default, we assume a dead
 server should be done with log splitting in two hours.</div>
</li>
</ul>
<a name="lastProcessedServerCleanTime">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastProcessedServerCleanTime</h4>
<pre>private&nbsp;long lastProcessedServerCleanTime</pre>
</li>
</ul>
<a name="tableStateManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tableStateManager</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/hadoop/hbase/TableStateManager.html" title="interface in org.apache.hadoop.hbase">TableStateManager</a> tableStateManager</pre>
</li>
</ul>
<a name="regionStateStore">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionStateStore</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionStateStore.html" title="class in org.apache.hadoop.hbase.master">RegionStateStore</a> regionStateStore</pre>
</li>
</ul>
<a name="serverManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverManager</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/ServerManager.html" title="class in org.apache.hadoop.hbase.master">ServerManager</a> serverManager</pre>
</li>
</ul>
<a name="server">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>server</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/hadoop/hbase/Server.html" title="interface in org.apache.hadoop.hbase">Server</a> server</pre>
</li>
</ul>
<a name="useZK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useZK</h4>
<pre>private final&nbsp;boolean useZK</pre>
</li>
</ul>
<a name="LOG_SPLIT_TIME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG_SPLIT_TIME</h4>
<pre>static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> LOG_SPLIT_TIME</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.master.RegionStates.LOG_SPLIT_TIME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_LOG_SPLIT_TIME">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_LOG_SPLIT_TIME</h4>
<pre>static final&nbsp;long DEFAULT_LOG_SPLIT_TIME</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.master.RegionStates.DEFAULT_LOG_SPLIT_TIME">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RegionStates(org.apache.hadoop.hbase.Server, org.apache.hadoop.hbase.TableStateManager, org.apache.hadoop.hbase.master.ServerManager, org.apache.hadoop.hbase.master.RegionStateStore)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RegionStates</h4>
<pre>RegionStates(<a href="../../../../../org/apache/hadoop/hbase/Server.html" title="interface in org.apache.hadoop.hbase">Server</a>&nbsp;master,
            <a href="../../../../../org/apache/hadoop/hbase/TableStateManager.html" title="interface in org.apache.hadoop.hbase">TableStateManager</a>&nbsp;tableStateManager,
            <a href="../../../../../org/apache/hadoop/hbase/master/ServerManager.html" title="class in org.apache.hadoop.hbase.master">ServerManager</a>&nbsp;serverManager,
            <a href="../../../../../org/apache/hadoop/hbase/master/RegionStateStore.html" title="class in org.apache.hadoop.hbase.master">RegionStateStore</a>&nbsp;regionStateStore)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getRegionAssignments()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionAssignments</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;getRegionAssignments()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>a copy of the region assignment map</dd></dl>
</li>
</ul>
<a name="getRegionAssignments(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionAssignments</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt;&nbsp;getRegionAssignments(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regions)</pre>
<div class="block">Return the replicas (including default) for the regions grouped by ServerName</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>regions</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>a pair containing the groupings as a map</dd></dl>
</li>
</ul>
<a name="getRegionServerOfRegion(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionServerOfRegion</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;getRegionServerOfRegion(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
</li>
</ul>
<a name="getRegionsInTransition()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionsInTransition</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&gt;&nbsp;getRegionsInTransition()</pre>
<div class="block">Get regions in transition and their states</div>
</li>
</ul>
<a name="isRegionInTransition(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRegionInTransition</h4>
<pre>public&nbsp;boolean&nbsp;isRegionInTransition(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if specified region in transition.</dd></dl>
</li>
</ul>
<a name="isRegionInTransition(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRegionInTransition</h4>
<pre>public&nbsp;boolean&nbsp;isRegionInTransition(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName)</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if specified region in transition.</dd></dl>
</li>
</ul>
<a name="isRegionsInTransition()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRegionsInTransition</h4>
<pre>public&nbsp;boolean&nbsp;isRegionsInTransition()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if any region in transition.</dd></dl>
</li>
</ul>
<a name="isRegionOnline(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRegionOnline</h4>
<pre>public&nbsp;boolean&nbsp;isRegionOnline(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if specified region assigned, and not in transition.</dd></dl>
</li>
</ul>
<a name="isRegionOffline(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRegionOffline</h4>
<pre>public&nbsp;boolean&nbsp;isRegionOffline(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if specified region offline/closed, but not in transition.
 If the region is not in the map, it is offline to us too.</dd></dl>
</li>
</ul>
<a name="isRegionInState(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.master.RegionState.State...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRegionInState</h4>
<pre>public&nbsp;boolean&nbsp;isRegionInState(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                      <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>...&nbsp;states)</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if specified region is in one of the specified states.</dd></dl>
</li>
</ul>
<a name="isRegionInState(java.lang.String, org.apache.hadoop.hbase.master.RegionState.State...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRegionInState</h4>
<pre>public&nbsp;boolean&nbsp;isRegionInState(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName,
                      <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>...&nbsp;states)</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if specified region is in one of the specified states.</dd></dl>
</li>
</ul>
<a name="waitForUpdate(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForUpdate</h4>
<pre>public&nbsp;void&nbsp;waitForUpdate(long&nbsp;timeout)
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Wait for the state map to be updated by assignment manager.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="getRegionTransitionState(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionTransitionState</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;getRegionTransitionState(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
<div class="block">Get region transition state</div>
</li>
</ul>
<a name="getRegionTransitionState(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionTransitionState</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;getRegionTransitionState(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName)</pre>
<div class="block">Get region transition state</div>
</li>
</ul>
<a name="createRegionStates(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createRegionStates</h4>
<pre>public&nbsp;void&nbsp;createRegionStates(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;hris)</pre>
<div class="block">Add a list of regions to RegionStates. If a region is split
 and offline, its state will be SPLIT. Otherwise, its state will
 be OFFLINE. Region already in RegionStates will be skipped.</div>
</li>
</ul>
<a name="createRegionState(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createRegionState</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;createRegionState(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
<div class="block">Add a region to RegionStates. If the region is split
 and offline, its state will be SPLIT. Otherwise, its state will
 be OFFLINE. If it is already in RegionStates, this call has
 no effect, and the original state is returned.</div>
</li>
</ul>
<a name="createRegionState(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.master.RegionState.State, org.apache.hadoop.hbase.ServerName, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createRegionState</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;createRegionState(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                            <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>&nbsp;newState,
                            <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                            <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;lastHost)</pre>
<div class="block">Add a region to RegionStates with the specified state.
 If the region is already in RegionStates, this call has
 no effect, and the original state is returned.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hri</code> - the region info to create a state for</dd><dd><code>newState</code> - the state to the region in set to</dd><dd><code>serverName</code> - the server the region is transitioning on</dd><dd><code>lastHost</code> - the last server that hosts the region</dd>
<dt><span class="strong">Returns:</span></dt><dd>the current state</dd></dl>
</li>
</ul>
<a name="putRegionState(org.apache.hadoop.hbase.master.RegionState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putRegionState</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;putRegionState(<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;regionState)</pre>
</li>
</ul>
<a name="setRegionStateTOCLOSED(byte[], org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRegionStateTOCLOSED</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;setRegionStateTOCLOSED(byte[]&nbsp;regionName,
                                 <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</pre>
<div class="block">Set the region state to CLOSED</div>
</li>
</ul>
<a name="setRegionStateTOCLOSED(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRegionStateTOCLOSED</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;setRegionStateTOCLOSED(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo,
                                 <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</pre>
<div class="block">Set the region state to CLOSED</div>
</li>
</ul>
<a name="updateRegionState(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.master.RegionState.State)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateRegionState</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;updateRegionState(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                            <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>&nbsp;state)</pre>
<div class="block">Update a region state. It will be put in transition if not already there.</div>
</li>
</ul>
<a name="updateRegionState(org.apache.hadoop.hbase.RegionTransition, org.apache.hadoop.hbase.master.RegionState.State)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateRegionState</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;updateRegionState(<a href="../../../../../org/apache/hadoop/hbase/RegionTransition.html" title="class in org.apache.hadoop.hbase">RegionTransition</a>&nbsp;transition,
                            <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>&nbsp;state)</pre>
<div class="block">Update a region state. It will be put in transition if not already there.

 If we can't find the region info based on the region name in
 the transition, log a warning and return null.</div>
</li>
</ul>
<a name="transitionOpenFromPendingOpenOrOpeningOnServer(org.apache.hadoop.hbase.RegionTransition, org.apache.hadoop.hbase.master.RegionState, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transitionOpenFromPendingOpenOrOpeningOnServer</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;transitionOpenFromPendingOpenOrOpeningOnServer(<a href="../../../../../org/apache/hadoop/hbase/RegionTransition.html" title="class in org.apache.hadoop.hbase">RegionTransition</a>&nbsp;transition,
                                                         <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;fromState,
                                                         <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</pre>
<div class="block">Transition a region state to OPEN from OPENING/PENDING_OPEN</div>
</li>
</ul>
<a name="updateRegionState(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.master.RegionState.State, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateRegionState</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;updateRegionState(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                            <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>&nbsp;state,
                            <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</pre>
<div class="block">Update a region state. It will be put in transition if not already there.</div>
</li>
</ul>
<a name="regionOnline(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionOnline</h4>
<pre>public&nbsp;void&nbsp;regionOnline(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</pre>
</li>
</ul>
<a name="regionOnline(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.ServerName, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionOnline</h4>
<pre>public&nbsp;void&nbsp;regionOnline(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                long&nbsp;openSeqNum)</pre>
<div class="block">A region is online, won't be in transition any more.
 We can't confirm it is really online on specified region server
 because it hasn't been put in region server's online region list yet.</div>
</li>
</ul>
<a name="addToServerHoldings(org.apache.hadoop.hbase.ServerName, org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToServerHoldings</h4>
<pre>private&nbsp;void&nbsp;addToServerHoldings(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                       <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
</li>
</ul>
<a name="addToReplicaMapping(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToReplicaMapping</h4>
<pre>private&nbsp;void&nbsp;addToReplicaMapping(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
</li>
</ul>
<a name="removeFromServerHoldings(org.apache.hadoop.hbase.ServerName, org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFromServerHoldings</h4>
<pre>private&nbsp;void&nbsp;removeFromServerHoldings(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                            <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
</li>
</ul>
<a name="removeFromReplicaMapping(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFromReplicaMapping</h4>
<pre>private&nbsp;void&nbsp;removeFromReplicaMapping(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
</li>
</ul>
<a name="existsInServerHoldings(org.apache.hadoop.hbase.ServerName, org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>existsInServerHoldings</h4>
<pre>boolean&nbsp;existsInServerHoldings(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                             <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
<div class="block">Used in some unit tests</div>
</li>
</ul>
<a name="logSplit(org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logSplit</h4>
<pre>public&nbsp;void&nbsp;logSplit(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</pre>
<div class="block">A dead server's wals have been split so that all the regions
 used to be open on it can be safely assigned now. Mark them assignable.</div>
</li>
</ul>
<a name="logSplit(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logSplit</h4>
<pre>public&nbsp;void&nbsp;logSplit(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region)</pre>
<div class="block">Log split is done for a given region, so it is assignable now.</div>
</li>
</ul>
<a name="clearLastAssignment(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearLastAssignment</h4>
<pre>public&nbsp;void&nbsp;clearLastAssignment(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;region)</pre>
</li>
</ul>
<a name="regionOffline(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionOffline</h4>
<pre>public&nbsp;void&nbsp;regionOffline(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
<div class="block">A region is offline, won't be in transition any more.</div>
</li>
</ul>
<a name="regionOffline(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.master.RegionState.State)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regionOffline</h4>
<pre>public&nbsp;void&nbsp;regionOffline(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                 <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>&nbsp;expectedState)</pre>
<div class="block">A region is offline, won't be in transition any more. Its state
 should be the specified expected state, which can only be
 Split/Merged/Offline/null(=Offline)/SplittingNew/MergingNew.</div>
</li>
</ul>
<a name="serverOffline(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverOffline</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;serverOffline(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;watcher,
                              <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</pre>
<div class="block">A server is offline, all regions on it are dead.</div>
</li>
</ul>
<a name="cleanFailedSplitMergeRegions(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanFailedSplitMergeRegions</h4>
<pre>private&nbsp;void&nbsp;cleanFailedSplitMergeRegions(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;hris)</pre>
<div class="block">This method does an RPC to hbase:meta. Do not call this method with a lock/synchronize held.
 In ZK mode we rollback and hence cleanup daughters/merged region. We also cleanup if
 meta doesn't have these regions.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hris</code> - The hris to check if empty in hbase:meta and if so, clean them up.</dd></dl>
</li>
</ul>
<a name="getRegionsOfTable(org.apache.hadoop.hbase.TableName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionsOfTable</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;getRegionsOfTable(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</pre>
<div class="block">Gets the online regions of the specified table.
 This method looks at the in-memory state.  It does not go to <code>hbase:meta</code>.
 Only returns <em>online</em> regions.  If a region on this table has been
 closed during a disable, etc., it will be included in the returned list.
 So, the returned list may not necessarily be ALL regions in this table, its
 all the ONLINE regions in the table.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tableName</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>Online regions from <code>tableName</code></dd></dl>
</li>
</ul>
<a name="getRegionByStateOfTable(org.apache.hadoop.hbase.TableName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionByStateOfTable</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt;&nbsp;getRegionByStateOfTable(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</pre>
<div class="block">Gets current state of all regions of the table.
 This method looks at the in-memory state.  It does not go to <code>hbase:meta</code>.
 Method guaranteed to return keys for all states
 in <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master"><code>RegionState.State</code></a></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tableName</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>Online regions from <code>tableName</code></dd></dl>
</li>
</ul>
<a name="waitOnRegionToClearRegionsInTransition(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitOnRegionToClearRegionsInTransition</h4>
<pre>public&nbsp;void&nbsp;waitOnRegionToClearRegionsInTransition(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)
                                            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Wait on region to clear regions-in-transition.
 <p>
 If the region isn't in transition, returns immediately.  Otherwise, method
 blocks until the region is out of transition.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="tableDeleted(org.apache.hadoop.hbase.TableName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tableDeleted</h4>
<pre>public&nbsp;void&nbsp;tableDeleted(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</pre>
<div class="block">A table is deleted. Remove its regions from all internal maps.
 We loop through all regions assuming we don't delete tables too much.</div>
</li>
</ul>
<a name="getServerRegions(org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServerRegions</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;getServerRegions(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</pre>
<div class="block">Get a copy of all regions assigned to a server</div>
</li>
</ul>
<a name="deleteRegion(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteRegion</h4>
<pre>public&nbsp;void&nbsp;deleteRegion(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
<div class="block">Remove a region from all state maps.</div>
</li>
</ul>
<a name="isRegionInRegionStates(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRegionInRegionStates</h4>
<pre>public&nbsp;boolean&nbsp;isRegionInRegionStates(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
</li>
</ul>
<a name="wasRegionOnDeadServer(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wasRegionOnDeadServer</h4>
<pre>boolean&nbsp;wasRegionOnDeadServer(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName)</pre>
<div class="block">Checking if a region was assigned to a server which is not online now.
 If so, we should hold re-assign this region till SSH has split its wals.
 Once logs are split, the last assignment of this region will be reset,
 which means a null last assignment server is ok for re-assigning.

 A region server could be dead but we don't know it yet. We may
 think it's online falsely. Therefore if a server is online, we still
 need to confirm it reachable and having the expected start code.</div>
</li>
</ul>
<a name="isServerDeadAndNotProcessed(org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isServerDeadAndNotProcessed</h4>
<pre>boolean&nbsp;isServerDeadAndNotProcessed(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;server)</pre>
</li>
</ul>
<a name="getLastRegionServerOfRegion(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastRegionServerOfRegion</h4>
<pre><a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;getLastRegionServerOfRegion(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName)</pre>
<div class="block">Get the last region server a region was on for purpose of re-assignment,
 i.e. should the re-assignment be held back till log split is done?</div>
</li>
</ul>
<a name="setLastRegionServerOfRegions(org.apache.hadoop.hbase.ServerName, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastRegionServerOfRegions</h4>
<pre>void&nbsp;setLastRegionServerOfRegions(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&nbsp;regionInfos)</pre>
</li>
</ul>
<a name="setLastRegionServerOfRegion(org.apache.hadoop.hbase.ServerName, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastRegionServerOfRegion</h4>
<pre>void&nbsp;setLastRegionServerOfRegion(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName)</pre>
</li>
</ul>
<a name="splitRegion(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitRegion</h4>
<pre>void&nbsp;splitRegion(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;p,
               <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;a,
               <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;b,
               <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="mergeRegions(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeRegions</h4>
<pre>void&nbsp;mergeRegions(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;p,
                <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;a,
                <a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;b,
                <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)
            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getRegionReplication(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionReplication</h4>
<pre>private&nbsp;int&nbsp;getRegionReplication(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;r)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="closeAllUserRegions(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeAllUserRegions</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>,<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;closeAllUserRegions(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&gt;&nbsp;excludedTables)</pre>
<div class="block">At cluster clean re/start, mark all user regions closed except those of tables
 that are excluded, such as disabled/disabling/enabling tables. All user regions
 and their previous locations are returned.</div>
</li>
</ul>
<a name="getAverageLoad()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAverageLoad</h4>
<pre>protected&nbsp;double&nbsp;getAverageLoad()</pre>
<div class="block">Compute the average load across all region servers.
 Currently, this uses a very naive computation - just uses the number of
 regions being served, ignoring stats about number of requests.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the average load</dd></dl>
</li>
</ul>
<a name="getAssignmentsByTable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssignmentsByTable</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt;&gt;&nbsp;getAssignmentsByTable()</pre>
<div class="block">This is an EXPENSIVE clone.  Cloning though is the safest thing to do.
 Can't let out original since it can change and at least the load balancer
 wants to iterate this exported list.  We need to synchronize on regions
 since all access to this.servers is under a lock on this.regions.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A clone of current assignments by table.</dd></dl>
</li>
</ul>
<a name="getRegionState(org.apache.hadoop.hbase.HRegionInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionState</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;getRegionState(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri)</pre>
</li>
</ul>
<a name="getRegionAssignmentsByServer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionAssignmentsByServer</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&gt;&gt;&nbsp;getRegionAssignmentsByServer()</pre>
<div class="block">Returns a clone of region assignments per server</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a Map of ServerName to a List of HRegionInfo's</dd></dl>
</li>
</ul>
<a name="getRegionState(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionState</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;getRegionState(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedName)</pre>
</li>
</ul>
<a name="getRegionInfo(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionInfo</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;getRegionInfo(byte[]&nbsp;regionName)</pre>
<div class="block">Get the HRegionInfo from cache, if not there, from the hbase:meta table</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>regionName</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>HRegionInfo for the region</dd></dl>
</li>
</ul>
<a name="isOneOfStates(org.apache.hadoop.hbase.master.RegionState, org.apache.hadoop.hbase.master.RegionState.State...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOneOfStates</h4>
<pre>static&nbsp;boolean&nbsp;isOneOfStates(<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;regionState,
                    <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>...&nbsp;states)</pre>
</li>
</ul>
<a name="updateRegionState(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.master.RegionState.State, org.apache.hadoop.hbase.ServerName, long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>updateRegionState</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/hadoop/hbase/master/RegionState.html" title="class in org.apache.hadoop.hbase.master">RegionState</a>&nbsp;updateRegionState(<a href="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;hri,
                            <a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master">RegionState.State</a>&nbsp;state,
                            <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
                            long&nbsp;openSeqNum)</pre>
<div class="block">Update a region state. It will be put in transition if not already there.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RegionStates.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/master/RegionState.State.html" title="enum in org.apache.hadoop.hbase.master"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/master/RegionStateStore.html" title="class in org.apache.hadoop.hbase.master"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/master/RegionStates.html" target="_top">Frames</a></li>
<li><a href="RegionStates.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2007&#x2013;2019 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
